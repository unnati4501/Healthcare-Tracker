!function(e){var a={};function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,a,t){o.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,a){if(1&a&&(e=o(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)o.d(t,n,function(a){return e[a]}.bind(null,n));return t},o.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(a,"a",a),a},o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},o.p="/",o(o.s=134)}({134:function(e,a,o){e.exports=o("yNbj")},yNbj:function(e,a){$(document).ready((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#mapLibrary").DataTable({processing:!0,serverSide:!0,ajax:{url:url.datatable},columns:[{data:"image",searchable:!1,sortable:!1},{data:"name",name:"name"},{data:"total_distance",name:"total_distance"},{data:"locations",name:"locations"},{data:"description",name:"description",visible:"company"==data.roleGroup},{data:"status",name:"status"},{data:"actions",name:"actions",searchable:!1,sortable:!1,className:"text-center"}],paging:!0,pageLength:pagination.value,lengthChange:!1,searching:!1,ordering:!0,order:[],info:!0,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],language:{paginate:{previous:pagination.previous,next:pagination.next}},dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>'}),$("#map_location_name").DataTable({lengthChange:!1,pageLength:10,autoWidth:!1,columns:[{data:"id",name:"id"},{data:"location_name",name:"location_name"}],order:[[0,"asc"]],paging:!0,searching:!0,ordering:!0,info:!0,columnDefs:[{targets:"no-sort",orderable:!1}],dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',language:{paginate:{previous:pagination.previous,next:pagination.next},sInfo:"Entries _START_ to _END_",infoFiltered:""}}),$(document).on("click",".preview_map_locations",(function(e){var a=$(this).data("rowdata")||"",o=[];""!=a&&(a=$.parseJSON(atob($(this).data("rowdata"))),$(a).each((function(e,a){console.log(e,a),o.push({id:e+1,location_name:a.location_name})})),$("#map_location_name").DataTable().clear().rows.add(o).order([0,"asc"]).search("").draw(),$("#map_location_name_preview").modal("show"))})),$(document).on("click",".delete-map",(function(e){$("#delete-model-box").data("id",$(this).data("id")),$("#delete-model-box").modal("show")})),$(document).on("click","#delete-model-box-confirm",(function(e){var a=$(this),o=$("#delete-model-box").data("id");a.prop("disabled",!0),$(".page-loader-wrapper").show(),$.ajax({type:"DELETE",url:url.delete+"/".concat(o),crossDomain:!0,cache:!1,contentType:"json"}).done((function(e){$("#mapLibrary").DataTable().ajax.reload(null,!1),1==e.deleted?toastr.success(message.deleted):toastr.error(message.somethingWentWrong)})).fail((function(e){"Forbidden"==e&&toastr.error(message.somethingWentWrong)})).always((function(){a.prop("disabled",!1),$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()}))})),$(document).on("click",".archive-map",(function(e){$("#archive-model-box").data("id",$(this).data("id")),$("#archive-model-box").modal("show")})),$(document).on("click","#archive-model-box-confirm",(function(e){var a=$(this),o=$("#archive-model-box").data("id");a.prop("disabled",!0),$(".page-loader-wrapper").show(),$.ajax({type:"DELETE",url:url.archive+"/".concat(o),crossDomain:!0,cache:!1,contentType:"json"}).done((function(e){$("#mapLibrary").DataTable().ajax.reload(null,!1),1==e.archived?toastr.success(message.archived):toastr.error(message.somethingWentWrong)})).fail((function(e){"Forbidden"==e&&toastr.error(message.somethingWentWrong)})).always((function(){a.prop("disabled",!1),$("#archive-model-box").modal("hide"),$(".page-loader-wrapper").hide()}))})),$(document).on("click",".view-map",(function(){var e=$(this).data("id");$(".page-loader-wrapper").show(),locationArray=[],initMap(),$.ajax({type:"GET",url:url.getMapLocation+"/".concat(e),crossDomain:!0,cache:!1,contentType:"json"}).done((function(a){$("#view-model-box").data("id",e),$(a).each((function(e,a){locationArray.push(new google.maps.LatLng(a.lat,a.lng))})),initMap(),$(".page-loader-wrapper").hide(),$("#view-model-box").modal("show")})).fail((function(e){"Forbidden"==e&&toastr.error(message.somethingWentWrong),$("#view-model-box").modal("hide"),$(".page-loader-wrapper").hide()})).always((function(){$("#view-model-box").modal("hide"),$(".page-loader-wrapper").hide()}))})),$(document).on("click",".preview_description",(function(){$(this).data("cid");var e=$(this).data("rowdata");$("#view-description").html(e),$("#view-description-model-box").modal("show")}))}))}});