!function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=139)}({139:function(e,t,a){e.exports=a("kTq+")},"kTq+":function(e,t){function a(){if(this.files&&this.files[0]){var e=new FileReader;e.addEventListener("load",(function(e){document.getElementById("sub_category_logo_preview").src=e.target.result,document.getElementById("sub_category_logo").val=e.target.result})),e.readAsDataURL(this.files[0])}}function r(e,t){return e.filter((function(e){return e!==t}))}$(document).ready((function(){function e(t,a){if(null!=t&&t.files.length>0){var r=new FileReader;r.onload=function(r){var o=new Image;o.src=r.target.result,o.onload=function(){var r=$(t).data("width"),o=$(t).data("height"),s=$(t).data("ratio"),l=s,i=s.split(":"),n=i[0],c=i[1],d=gcd(this.width,this.height,c,n);(this.width<r&&this.height<o||d!=l)&&($(t).empty().val(""),$(t).parent("div").find(".custom-file-label").html("Choose File"),$(a).removeAttr("src"),toastr.error(upload_image_dimension),e(null,a))},$(a).attr("src",r.target.result)},r.readAsDataURL(t.files[0])}else $(a).removeAttr("src")}$(document).on("change","#logo, #icon, #sub_category_logo",(function(t){var a=$(this).data("previewelement");if(t.target.files.length>0){var r=t.target.files[0].name;["image/png","image/jpeg","image/jpg","image/svg+xml"].includes(t.target.files[0].type)?t.target.files[0].size>2097152?(toastr.error(messages.image_size_2M_error),$(t.currentTarget).empty().val(""),$(this).parent("div").find(".custom-file-label").html(messages.choose_file),e(null,a)):(e(t.target,a),$(this).parent("div").find(".custom-file-label").html(r)):(toastr.error(messages.image_valid_error),$(t.currentTarget).empty().val(""),$(this).parent("div").find(".custom-file-label").html(messages.choose_file),e(null,a))}else $(this).parent("div").find(".custom-file-label").html(messages.choose_file),e(null,a)})),$(document).on("click","#addSubcategory",(function(e){$("#sub_category_logo-error,#sub_cateory_name-error").remove();$("#modal_title").html(labels.add_subcategory),$("#subcategory-model-box").attr("data-id",$(this).data("id")),$("#subcategory-model-box").modal("show"),$("#sub_category_name").val(""),$("#sub_category_logo_preview").attr("src",""),$("#subcategorySave").show(),$("#subcategoryUpdate").hide(),$("label[for='sub_category_logo'].custom-file-label").html("Choose File")})),$(document).on("keyup","#subCategoryTbl tbody tr:last input",(function(e){$("#subCategoryTbl tbody tr").length>1&&$(this).parent().parent().next().toggleClass("show_del",0==$(this).val().length)})),$("#subcategory_remove_0").hide(),$("#subcategorySave").on("click",(function(e){e.preventDefault(),$("#sub_category_logo-error, #sub_cateory_name-error").remove();var t=[];"Choose File"==$("label[for='sub_category_logo'].custom-file-label").html()?($("#sub_category_logo").after('<div id="sub_category_logo-error" class="error text-danger">'+messages.field_required+"</div>"),t.push("logo")):r(t,"logo");var a=$("#sub_category_name").val().trim();if(""==a?($("#sub_category_name").after('<div id="sub_cateory_name-error" class="error text-danger">'+messages.field_required+"</div>"),t.push("name")):0==/^[A-Za-z0-9 \/.,\\<>&()+\'\-]*$/.test(a)?($("#sub_category_name").after('<div id="sub_cateory_name-error" class="error text-danger">'+messages.enter_valid_subcategory+"</div>"),t.push("name")):r(t,"name"),t.length<=0){var o={};o.name=$("#sub_category_name").val(),o.image=$("#sub_category_logo_preview").attr("src"),o.imageName=$("label#subcategory_logo_name").html();var s=$("#total-form-subcategories").val();s++,o.id="id"+s;var l=$(".custom-subcategy-wrap").last(),i=l.attr("data-order"),n=l.clone(!0);n.insertAfter(l),n.find("span").each((function(){if(e=$(this).attr("class")){var e=$(this).attr("class").replace("["+i+"]","["+s+"]");$(this).attr({class:e})}if(t=$(this).attr("id")){var t=$(this).attr("id").replace(i,s);$(this).attr({id:t})}})),n.find("span img").each((function(){if(e=$(this).attr("id")){var e=$(this).attr("id").replace(i,s);$(this).attr({id:e})}})),n.find("a").each((function(){if(e=$(this).attr("id")){var e=$(this).attr("id").replace(i,s);$(this).attr({id:e})}})),n.find(":input").each((function(){if(e=$(this).attr("name")){var e=$(this).attr("name").replace("["+i+"]","["+s+"]"),t=$(this).attr("id").replace(i,s);$(this).attr({name:e,id:t}),$("#subcategory_name_"+s).val(o.name),$("#subcategory_logo_"+s).val(o.image),$("#subcategory_src_"+s).attr("src",o.image),$("#span_name_"+s).text(o.name),$("#subcategory_logo_name_"+s).val(o.imageName),$("#subcategory_id_"+s).val(o.id)}})),$("#subcategory_remove_"+s).show(),n.closest(".custom-subcategy-wrap").attr("data-order",s),n.closest(".custom-subcategy-wrap").attr("data-id","id"+s),n.closest(".custom-subcategy-wrap").attr("data-wbsassigned",0),$("#total-form-subcategories").val(s),$("#subcategory-model-box").modal("hide")}})),document.getElementById("sub_category_logo").addEventListener("change",a),$(document).on("click",".subcategory-remove",(function(e){$("h5#modal_title").html(labels.delete_subcategory),$("#confirm_delete_message").html(labels.delete_subcategory_message),$("#delete-model-box").attr("data-id",$(this).closest("tr").attr("data-id")),$("#delete-model-box").attr("data-wbscount",$(this).closest("tr").attr("data-wbsassigned")),$("#delete-model-box").modal("show")})),$("#delete-model-box-confirm").on("click",(function(e){var t=$("#delete-model-box").attr("data-id"),a=$("#delete-model-box").attr("data-wbscount");t&&a<=0?$("tr").filter("[data-id='"+t+"']").remove():toastr.error(messages.in_use),$("#delete-model-box").modal("hide")})),$(document).on("click",".subcategory-edit",(function(e){$("#sub_category_logo-error,#sub_cateory_name-error").remove();var t=$(this).closest("tr").attr("data-order");$("#modal_title").html(labels.edit_subcategory),$("#subcategory-model-box").attr("data-order",t),$("#subcategory-model-box").modal("show"),$("#sub_category_name").val($("#span_name_"+t).text()),$("#sub_category_logo_preview").attr("src",$("#subcategory_src_"+t).attr("src")),$("#subcategory_logo_name").html($("#subcategory_logo_name_"+t).val()),$("#subcategorySave").hide(),$("#subcategoryUpdate").show()})),$(document).on("click","#subcategory-model-box #subcategoryUpdate",(function(e){$("#sub_category_logo-error, #sub_cateory_name-error").remove();var t=[];"Choose File"==$("label[for='sub_category_logo'].custom-file-label").html()?($("#sub_category_logo").after('<div id="sub_category_logo-error" class="error text-danger">'+messages.field_required+"</div>"),t.push("logo")):r(t,"logo");var a=$("#sub_category_name").val().trim();if(""==a?($("#sub_category_name").after('<div id="sub_cateory_name-error" class="error text-danger">'+messages.field_required+"</div>"),t.push("name")):0==/^[A-Za-z0-9 \/.,\\<>&()+\'\-]*$/.test(a)?($("#sub_category_name").after('<div id="sub_cateory_name-error" class="error text-danger">'+messages.enter_valid_subcategory+"</div>"),t.push("name")):r(t,"name"),t.length<=0){e.preventDefault();var o=$("#sub_category_name").val(),s=$("label#subcategory_logo_name").html(),l=$("#sub_category_logo_preview").attr("src"),i=$("#subcategory-model-box").attr("data-order");$("#span_name_"+i).html(o),$("#subcategory_name_"+i).html(o),$("#subcategory_name_"+i).val(o),$("#subcategory_logo_"+i).val(l),$("#subcategory_src_"+i).attr("src",l),$("#subcategory_logo_name_"+i).val(s),$("#subcategory-model-box").modal("hide")}}))}))}});