!function(e){var t={};function a(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(i,r,function(t){return e[t]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=12)}({12:function(e,t,a){e.exports=a("2zW5")},"2zW5":function(e,t){$((function(){$(".image-selector").change((function(e){var t=$(this).data("previewelement");if(e.target.files[0]){var a=e.target.files[0].name;a.length>40&&(a=a.substr(0,40));["image/png","image/jpeg","image/jpg"].includes(e.target.files[0].type)?e.target.files[0].size>2097152?($(this).parent().addClass("is-invalid"),toastr.error("Maximum allowed size for uploading image is 2 mb. Please try again."),$(e.currentTarget).empty().val(""),$('[name="question_image-free-text_src['.concat(t,']"]')).val("")):($(this).parent().removeClass("is-invalid"),function e(t,a){if(null!=t&&t.files.length>0){var i=new FileReader;i.onload=function(i){var r=new Image;r.src=i.target.result,r.onload=function(){var r=$(t).data("width"),n=$(t).data("height"),s=$(t).data("ratio"),o=s,l=s.split(":"),c=l[0],d=l[1],u=gcd(this.width,this.height,d,c);this.width<r&&this.height<n||u!=o?($(t).empty().val(""),$(t).parent("div").find(".custom-file-label").html("Choose File"),$('[data-id-ref="previewImg['.concat(a,']"]')).attr("src",defaultQuestionImg),toastr.error(upload_image_dimension),e(null,a)):($('[data-id-ref="previewImg['.concat(a,']"]')).attr("src",i.target.result),$('[name="question_image-free-text_src['.concat(a,']"]')).val(i.target.result))}},i.readAsDataURL(t.files[0])}else $('[data-id-ref="previewImg['.concat(a,']"]')).attr("src",defaultQuestionImg),$('[name="question_image-free-text_src['.concat(a,']"]')).val("")}(this,t)):($(this).parent().addClass("is-invalid"),toastr.error("Please try again with uploading valid image."),$(e.currentTarget).empty().val(""),$('[name="question_image-free-text_src['.concat(t,']"]')).val(""))}})),$("body").on("click",".question-delete-free-text",(function(){var e=$(this).closest(".question-wrap");1==$(".survey-form-free-text").find(".question-wrap").length||(e.remove(),toastr.error(singleDeleteMessage))})),$("body").on("click",".question-delete-all-free-text",(function(){$(".delete-all-question-model-free-text").modal("show")})),$("body").on("click",".question-delete-all-confirm-free-text",(function(){$(".survey-form-free-text").find(".question-wrap").each((function(e){1==$(".survey-form-free-text").find(".question-wrap").length?(isLast=!0,$newItem=$(".survey-form-free-text").find(".question-wrap"),$newItem.find(".data-id").text("Q1").attr("data-id",1),$newItem.find(":input").each((function(){if(e=$(this).attr("name")){var e=$(this).attr("name"),t=$(this).attr("id");$(this).attr({name:e,id:t}).val("").removeAttr("checked")}})),$newItem.find("img").each((function(){var e=$(this).attr("id"),t=APPURL+"/assets/dist/img/73a90acaae2b1ccc0e969709665bc62f.png";e&&$(this).attr({src:t}).val("")})),$newItem.find(".image-selection-free-text").each((function(){if(e=$(this).attr("data-input-ref")){var e=$(this).attr("data-input-ref");$(this).attr({"data-input-ref":e}).val("").removeAttr("checked")}})),showToastr=!1,$newItem.find(".imageNotice").html(null)):(this.remove(),showToastr=!0)})),toastr.error(multiDeleteMessage),$(".delete-all-question-model-free-text").modal("hide")})),$("body").on("click",".preview-button-free-text",(function(){var e=$(this).closest(".question-wrap").attr("data-order");$("#userQuestionFreeText").html(null);var t=$(".survey-form-free-text").serializeJSON();if(t){var a=e;t.question[e];t["question_image-free-text_src"][a]&&t["question_image-free-text_src"][a].includes("73a90acaae2b1ccc0e969709665bc62f")&&(t["question_image-free-text_src"][a]=""),""!=t["question_image-free-text_src"][a]?'<div class="col-lg-4 order-lg-last">\n<div class="text-center w-100 mb-3">\n<img class="img-fluid m-b-lg-0 m-b-30" src="'+t["question_image-free-text_src"][a]+'" alt="">\n</div>\n</div>\n<div class="col-lg-8 order-lg-first p-r-lg-30 align-self-center">\n':'<div class="col-lg-12 align-self-center">';var i=t.question[a];/<\/?[^>]+(>|$)/g.test(i)&&(i="");var r='<div class="row align-items-center"><div class="col-lg-12 align-self-center text-center">\n<div class="ans-main-area question-type-one m-0-a">\n<div class="text-center">\n<h2 class="question-text">'+i+'</h2></div>\n<div class="text-center w-100 mb-3">\n<img class="img-fluid m-b-md-30 m-b-15 qus-banner-img" src="'+t["question_image-free-text_src"][a]+'" alt="">\n</div>\n<div class="form-group ans-textarea">\n<textarea class="form-control animated flash slow h-auto" id="" rows="5"></textarea>\n</div>\n</div>\n</div>\n</div>';$("#userQuestionFreeText").append(r)}$("#userQuestionFreeTextModelBox").modal("show")})),$(".preview-all-button-free-text").click((function(){$("#userQuestionFreeTextAll").html(null);var e=$(".survey-form-free-text").serializeJSON();if(e){var t=1,a='<h3><span></span></h3><section class="step-box"><div class="row align-items-center">',i=Object.keys(e.question).length;for(var r in e.question){substring="73a90acaae2b1ccc0e969709665b62f",e["question_image-free-text_src"][r]&&e["question_image-free-text_src"][r].includes(substring)&&(e["question_image-free-text_src"][r]=""),""!=e["question_image-free-text_src"][r]?a+'<div class="col-lg-4 order-lg-last">\n<div class="text-center w-100 mb-3">\n<img class="img-fluid m-b-lg-0 m-b-30" src="'+e["question_image-free-text_src"][r]+'" alt="">\n</div>\n</div><div class="col-lg-8 order-lg-first p-r-lg-30 align-self-center">\n':a+'<div class="col-lg-12 align-self-center">';var n=a+'<div class="col-lg-12 align-self-center text-center">\n<div class="ans-main-area question-type-one m-0-a">\n<div class="text-center">\n<p class="question-text-title">Question ('+t+" of "+i+')</p>\n<h2 class="question-text">'+e.question[r]+'</h2></div>\n<div class="text-center w-100 mb-3">\n<img class="img-fluid m-b-md-30 m-b-15 qus-banner-img" src="'+e["question_image-free-text_src"][r]+'" alt="">\n</div>\n<div class="form-group ans-textarea">\n<textarea class="form-control animated flash slow" id="" rows="5"></textarea>\n</div>\n</div>\n</div></div></section>';$("#userQuestionFreeTextAll").append(n),t++}}$("#userQuestionFreeTextAll").steps({headerTag:"h3",bodyTag:"section",transitionEffect:"fade",autoFocus:!0,onFinished:function(e,t){$("#userQuestionFreeTextModelBoxdAll").modal("hide")}}),$("#userQuestionFreeTextModelBoxdAll").modal("show")}))})),$("#addAnotherQuestionFreeText").on("click",(function(){if($(".survey-form-free-text").find(".question-wrap").length>=5)return $(".toast").remove(),void toastr.warning("Five questions have been added, not allowed to add more.");var e=$("#total-form-free-text").val();e++;var t=$(".survey-form-free-text .question-wrap").last(),a=t.attr("data-order"),i=t.clone(!0);i.insertAfter(t);var r=t.find(".data-id").attr("data-id"),n=parseInt(r)+1;i.find(".data-id").text("Q"+n).attr("data-id",n),i.find(":input").each((function(){if(t=$(this).attr("name")){var t=$(this).attr("name").replace("["+a+"]","["+e+"]"),i=$(this).attr("id").replace("["+a+"]","["+e+"]");$(this).attr({name:t,id:i,"data-previewelement":e,"aria-describedby":"question["+e+"]-error"}).data("previewelement",e).val("").removeAttr("checked")}})),i.find("label").each((function(){$(this).attr("for","question_image-free-text["+e+"]")})),i.find("img").each((function(){var t=$(this).attr("id"),i=APPURL+"/assets/dist/img/73a90acaae2b1ccc0e969709665bc62f.png";if(t){t=$(this).attr("id").replace("["+a+"]","["+e+"]");$(this).attr({src:i,id:t,"data-id-ref":"previewImg["+e+"]"}).data("id-ref","previewImg["+e+"]").val("")}})),i.find(".image-selection-free-text").each((function(){if(t=$(this).attr("data-input-ref")){var t=$(this).attr("data-input-ref").replace("["+a+"]","["+e+"]");$(this).attr({"data-input-ref":t}).val("").removeAttr("checked")}})),i.closest(".question-wrap").attr("data-order",e),i.find(".imageNotice").html(null),i.find(".invalid-feedback").remove(),$("#total-form-free-text").val(e),toastr.success(singleAddMessage)}))}});