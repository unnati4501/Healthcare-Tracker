!function(e){var t={};function i(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=13)}({13:function(e,t,i){e.exports=i("hZma")},hZma:function(e,t){$((function(){$(".image-selector-choice").change((function(e){var t=$(this).data("previewelement");if(e.target.files[0]){var i=e.target.files[0].name;i.length>40&&(i=i.substr(0,40));["image/png","image/jpeg","image/jpg"].includes(e.target.files[0].type)?e.target.files[0].size>2097152?($(this).parent().addClass("is-invalid"),toastr.error("Maximum allowed size for uploading image is 2 mb. Please try again."),$(e.currentTarget).empty().val(""),$('[name="question_image-choice_src['.concat(t,']"]')).val("")):($(this).parent().removeClass("is-invalid"),function e(t,i){if(null!=t&&t.files.length>0){var a=new FileReader;a.onload=function(a){var r=new Image;r.src=a.target.result,r.onload=function(){var r=$(t).data("width"),n=$(t).data("height"),c=$(t).data("ratio"),s=c,o=c.split(":"),l=o[0],d=o[1],m=gcd(this.width,this.height,d,l);this.width<r&&this.height<n||m!=s?($(t).empty().val(""),$(t).parent("div").find(".custom-file-label").html("Choose File"),$('[data-id-ref="previewImg['.concat(i,']"]')).attr("src",defaultQuestionImg),toastr.error(upload_image_dimension),e(null,i)):($('[data-id-ref="previewImg2['.concat(i,']"]')).attr("src",a.target.result),$('[name="question_image-choice_src['.concat(i,']"]')).val(a.target.result))}},a.readAsDataURL(t.files[0])}else $('[data-id-ref="previewImg2['.concat(i,']"]')).attr("src",defaultQuestionImg),$('[name="question_image-choice_src['.concat(i,']"]')).val("")}(this,t)):($(this).parent().addClass("is-invalid"),toastr.error("Please try again with uploading valid image."),$(e.currentTarget).empty().val(""),$('[name="question_image-choice_src['.concat(t,']"]')).val(""))}})),$(".image-selector-choice-option").change((function(e){var t=$(this).closest(".question-wrap").attr("data-order"),i=$(this).attr("data-previewoptionelement");if(e.target.files[0]){var a=e.target.files[0].name;a.length>40&&(a=a.substr(0,40));["image/png","image/jpeg","image/jpg"].includes(e.target.files[0].type)?e.target.files[0].size>2097152?(toastr.error("Maximum allowed size for uploading image is 2 mb. Please try again."),$(e.currentTarget).empty().val(""),$('[name="image['.concat(t,"][").concat(i,'][imageSrc]"]')).val("")):function e(t,i,a){if(null!=t&&t.files.length>0){var r=new FileReader;r.onload=function(r){var n=new Image;n.src=r.target.result,n.onload=function(){var n=$(t).data("width"),c=$(t).data("height"),s=$(t).data("ratio"),o=s,l=s.split(":"),d=l[0],m=l[1],h=gcd(this.width,this.height,m,d);this.width<n&&this.height<c||h!=o?($(t).empty().val(""),$(t).parent("div").find(".custom-file-label").html("Choose File"),$('[data-id-ref="previewImg3['.concat(i,"][").concat(a,']"]')).attr("src",defaultQuestionImg),toastr.error(upload_image_dimension),e(null,i,a)):($('[data-id-ref="previewImg3['.concat(i,"][").concat(a,']"]')).attr("src",r.target.result),$('[name="image['.concat(i,"][").concat(a,'][imageSrc]"]')).val(r.target.result))}},r.readAsDataURL(t.files[0])}else $('[data-id-ref="previewImg3['.concat(i,"][").concat(a,']"]')).attr("src",defaultQuestionImg),$('[name="image['.concat(i,"][").concat(a,'][imageSrc]"]')).val("")}(this,t,i):(toastr.error("Please try again with uploading valid image."),$(e.currentTarget).empty().val(""),$('[name="image['.concat(t,"][").concat(i,'][imageSrc]"]')).val(""))}})),$("body").on("click",".question-delete-choice",(function(){var e=$(this).closest(".question-wrap");1==$(".survey-form-choice").find(".question-wrap").length||(e.remove(),toastr.error(singleDeleteMessage))})),$("body").on("click",".question-delete-all-choice",(function(){$(".delete-all-question-model-choice").modal("show")})),$("body").on("click",".question-delete-all-confirm-choice",(function(){$(".survey-form-choice").find(".question-wrap").each((function(e){1==$(".survey-form-choice").find(".question-wrap").length?(isLast=!0,$("#total-form-choice").val(1),$newItem=$(".survey-form-choice").find(".question-wrap"),$newItem.attr("data-id",1),$newItem.find(".data-id").text("Q1").attr("data-id",1),$newItem.find(":input").each((function(){if(e=$(this).attr("name")){var e=$(this).attr("name"),t=$(this).attr("id");$(this).attr({name:e,id:t}).val("").removeAttr("checked"),regex=new RegExp(/score\[\d{1,2}\]/),regex.test(e)&&$('[id="'+t+'"]').val("")}})),$newItem.find("img").each((function(){var e=$(this).attr("id"),t=APPURL+"/assets/dist/img/73a90acaae2b1ccc0e969709665bc62f.png";e&&$(this).attr({src:t}).val("")})),$newItem.find(".image-selection-choice").each((function(){if(e=$(this).attr("data-input-ref")){var e=$(this).attr("data-input-ref");$(this).attr({"data-input-ref":e}).val("").removeAttr("checked")}})),showToastr=!1,$newItem.find(".imageNotice").html(null)):(this.remove(),showToastr=!0)})),toastr.error(multiDeleteMessage),$(".delete-all-question-model-choice").modal("hide")})),$("body").on("click",".preview-button-choice",(function(){var e=$(this).closest(".question-wrap").attr("data-order");$("#singleQuestionPreviewModalChoiceHtml").html(null);var t=$(".survey-form-choice").serializeJSON();if(t){var i="",a=1;for(var r in t.image[e]){if(t.image[e][r].imageSrc&&t.image[e][r].imageSrc.includes("73a90acaae2b1ccc0e969709665bc62f")&&(t.image[e][r].imageSrc=""),""!=t.image[e][r].imageSrc&&null!=t.image[e][r].imageSrc)var n=t.image[e][r].imageSrc;else n="/assets/dist/img/choice-".concat(a,".png");if(a++,""!=t.choice[e][r]&&null!=t.choice[e][r])var c=t.choice[e][r];else c="";i+='\x3c!-- item-box --\x3e<label class="choices-item-box">\n    <input type="radio" name="choices">\n    <div class="markarea">\n        <span class="checkmark animated tada faste"></span>\n        <div class="choices-item-img">\n            <img class="" src="'+n+'" alt="">\n        </div>\n    </div>\n    <div class="choices-box-title">'+c+"</div>\n</label>\n\x3c!-- item-box /--\x3e"}t["question_image-choice_src"][e]&&t["question_image-choice_src"][e].includes("73a90acaae2b1ccc0e969709665bc62f")&&(t["question_image-choice_src"][e]=""),t["question_image-choice_src"][e]&&""!=t["question_image-choice_src"][e][r]?'<div class="col-lg-4 order-lg-last">\n<div class="text-center w-100 mb-3">\n<img class="img-fluid m-b-lg-0 m-b-30" src="'+t["question_image-choice_src"][e]+'" alt="">\n</div>\n</div>\n<div class="col-lg-8 text-center align-self-center">':'<div class="col-lg-12 text-center align-self-center">';var s='<div class="row align-items-center"><div class="col-lg-12 align-self-center text-center">    <div class="ans-main-area question-type-one m-0-a">\n <div class="text-center">\n        <h2 class="question-text">'+t.question[e]+'</h2></div>\n<div class="text-center w-100 mb-3">\n<img class="img-fluid m-b-md-30 m-b-15 qus-banner-img" src="'+t["question_image-choice_src"][e]+'" alt="">\n</div>\n        <div class="animated flash slow choices-main-box">\n'+i+"        </div>\n    </div>\n</div>\n</div>";$("#singleQuestionPreviewModalChoiceHtml").append(s)}$("#singleQuestionPreviewModalChoice").modal("show")})),$(".preview-all-button-choice").click((function(){$("#allQuestionPreviewModalChoiceHtml").html(null);var e=$(".survey-form-choice").serializeJSON();if(e){var t=1,i=Object.keys(e.question).length;for(var a in e.question){var r,n="",c=1;for(var s in e.image[a]){if(substring="73a90acaae2b1ccc0e969709665b62f",e.image[a][s].imageSrc&&e.image[a][s].imageSrc.includes(substring)&&(e.image[a][s].imageSrc=""),""!=e.image[a][s].imageSrc&&null!=e.image[a][s].imageSrc)var o=e.image[a][s].imageSrc;else o="/assets/dist/img/choice-".concat(c,".png");if(c++,""!=e.choice[a][s]&&null!=e.choice[a][s])var l=e.choice[a][s];else l="";""!=e["question_image-choice_src"][s]?'<div class="col-lg-4 order-lg-last">\n<div class="text-center w-100 mb-3">\n<img class="img-fluid m-b-lg-0 m-b-30" src="'+e["question_image-choice_src"][a]+'" alt="">\n</div>\n</div>\n<div class="col-lg-8 text-center align-self-center">':'<div class="col-lg-12 text-center align-self-center">',n+='\x3c!-- item-box --\x3e<label class="choices-item-box">\n    <input type="radio" name="choices">\n    <div class="markarea">\n        <span class="checkmark animated tada faste"></span>\n        <div class="choices-item-img">\n            <img class="" src="'+o+'" alt="">\n        </div>\n    </div>\n    <div class="choices-box-title">'+l+"</div>\n</label>\n\x3c!-- item-box /--\x3e"}r='<h3><span></span></h3><section class="step-box"><div class="row align-items-center"><div class="col-lg-12 align-self-center text-center">\n    <div class="ans-main-area question-type-one m-0-a">\n  <div class="text-center">\n<p class="question-text-title">Question ('+t+" of "+i+')</p>\n        <h2 class="question-text">'+e.question[a]+'</h2></div>\n<div class="text-center w-100 mb-3">\n<img class="img-fluid m-b-md-30 m-b-15 qus-banner-img" src="'+e["question_image-choice_src"][a]+'" alt="">\n</div>\n        <div class="animated flash slow choices-main-box">\n'+n+"        </div>\n    </div>\n</div>\n</div></section>",$("#allQuestionPreviewModalChoiceHtml").append(r),t++}}$("#allQuestionPreviewModalChoiceHtml").steps({headerTag:"h3",bodyTag:"section",transitionEffect:"fade",autoFocus:!0,onFinished:function(e,t){$("#allQuestionPreviewModalChoice").modal("hide")}}),$("#allQuestionPreviewModalChoice").modal("show")}))})),$("#addAnotherQuestionChoice").on("click",(function(){if($(".survey-form-choice").find(".question-wrap").length>=5)return $(".toast").remove(),void toastr.warning("Five questions have been added, not allowed to add more.");var e=$("#total-form-choice").val();e++;var t=$(".survey-form-choice .question-wrap").last(),i=t.attr("data-order"),a=t.clone(!0);a.insertAfter(t);var r=t.find(".data-id").attr("data-id"),n=parseInt(r)+1;a.find(".data-id").text("Q"+n).attr("data-id",n),a.find(".qus-inline-choice :input").each((function(){if(t=$(this).attr("name")){var t=$(this).attr("name").replace("["+i+"]","["+e+"]"),a=$(this).attr("id").replace("["+i+"]","["+e+"]");$(this).attr({name:t,id:a,"data-previewelement":e,"aria-describedby":"question["+e+"]-error"}).data("previewelement",e).val("").removeAttr("checked"),regex=new RegExp(/score\[\d{1,2}\]/),regex.test(t)&&$('[id="'+a+'"]').val("")}})),a.find(".qus-inline-choice label").each((function(){$(this).attr("for","question_image-choice["+e+"]")})),a.find(".qus-inline-choice img").each((function(){var t=$(this).attr("id"),a=APPURL+"/assets/dist/img/73a90acaae2b1ccc0e969709665bc62f.png";if(t){t=$(this).attr("id").replace("["+i+"]","["+e+"]");$(this).attr({src:a,id:t,"data-id-ref":"previewImg2["+e+"]"}).data("id-ref","previewImg2["+e+"]").val("")}})),a.find(".qus-inline-choice .image-selection-choice").each((function(){if(t=$(this).attr("data-input-ref")){var t=$(this).attr("data-input-ref").replace("["+i+"]","["+e+"]");$(this).attr({"data-input-ref":t}).val("").removeAttr("checked")}})),a.find(".qus-choices-option :input").each((function(){var t=$(this).closest(".qus-choices-option").attr("data-order");if(a=$(this).attr("name")){var a=$(this).attr("name").replace("["+i+"]["+t+"]","["+e+"]["+t+"]"),r=$(this).attr("id").replace("["+i+"]["+t+"]","["+e+"]["+t+"]");$(this).attr({name:a,id:r,"data-previewoptionelement":t,"aria-describedby":"choice["+e+"]["+t+"]-error"}).val("").removeAttr("checked"),regex=new RegExp(/score\[\d{1,2}\]/),regex.test(a)&&$(this).removeClass("is-valid")}})),a.find(".qus-choices-option label").each((function(){var t=$(this).closest(".qus-choices-option").attr("data-order");$(this).attr("for","image["+e+"]["+t+"][imageId]")})),a.find(".qus-choices-option img").each((function(){var t=$(this).closest(".qus-choices-option").attr("data-order"),a=$(this).attr("id"),r=APPURL+"/assets/dist/img/73a90acaae2b1ccc0e969709665bc62f.png";if(a){a=$(this).attr("id").replace("["+i+"]["+t+"]","["+e+"]["+t+"]");$(this).attr({src:r,id:a,"data-id-ref":"previewImg3["+e+"]["+t+"]"}).data("id-ref","previewImg3["+e+"]["+t+"]").val(""),$(this).attr({src:r}).val("")}})),a.find(".qus-choices-option .image-selection-choice").each((function(){var t=$(this).closest(".qus-choices-option").attr("data-order");if(a=$(this).attr("data-input-ref")){var a=$(this).attr("data-input-ref").replace("["+i+"]["+t+"]","["+e+"]["+t+"]");$(this).attr({"data-input-ref":a}).val("").removeAttr("checked")}})),a.closest(".question-wrap").attr("data-order",e),a.find(".imageNotice").html(null),a.find(".invalid-feedback").remove(),$("#total-form-choice").val(e),toastr.success(singleAddMessage)})),$(".addAnotherChoice").on("click",(function(){var e=$(this).parent(),t=e.attr("data-order"),i=e.find(".qus-choices-option");if(i.length>=7)return $(".toast").remove(),void toastr.warning("Seven options have been added, not allowed to add more.");var a=i.last().parent(),r=parseInt(a.find(".qus-choices-option").attr("data-order"))+1,n=a.find(".qus-choices-option").attr("data-order"),c=a.clone(!0);c.insertAfter(a),c.find(":input").each((function(){if(e=$(this).attr("name")){var e=$(this).attr("name").replace("["+t+"]["+n+"]","["+t+"]["+r+"]"),i=$(this).attr("id").replace("["+t+"]["+n+"]","["+t+"]["+r+"]");$(this).attr({name:e,id:i,"data-previewoptionelement":r,"aria-describedby":"choice["+t+"]["+r+"]-error"}).val("").removeAttr("checked"),regex=new RegExp(/score\[\d{1,2}\]/),regex.test(e)&&$(this).removeClass("is-valid")}})),c.find("label").each((function(){$(this).attr("for","image["+t+"]["+r+"][imageId]")})),c.find("img").each((function(){var e=$(this).attr("id"),i=APPURL+"/assets/dist/img/73a90acaae2b1ccc0e969709665bc62f.png";if(e){e=$(this).attr("id").replace("["+t+"]["+n+"]","["+t+"]["+r+"]");$(this).attr({src:i,id:e,"data-id-ref":"previewImg3["+t+"]["+r+"]"}).data("id-ref","previewImg3["+t+"]["+r+"]").val(""),$(this).attr({src:i}).val("")}})),c.find(".image-selection-choice").each((function(){if(e=$(this).attr("data-input-ref")){var e=$(this).attr("data-input-ref").replace("["+t+"]["+n+"]","["+t+"]["+r+"]");$(this).attr({"data-input-ref":e}).val("").removeAttr("checked")}})),c.find(".invalid-feedback").remove(),c.find(".qus-choices-option").attr("data-order",r),imageRequiredForOptions("#choice-question",t)})),$(".question-delete-choice-options").on("click","",(function(){var e=$(this).closest(".question-wrap"),t=$(this).closest(".qus-choices-option").parent();2==$(e).find(".qus-choices-option").parent().length||t.remove();var i=e.attr("data-order");imageRequiredForOptions("#choice-question",i)}))}});