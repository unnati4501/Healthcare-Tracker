!function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=73)}({73:function(e,t,a){e.exports=a("q/yB")},"q/yB":function(e,t){var a,r=$("#mainProgrssbar"),o=$("#mainProgrssbar .progpercent"),i=new Date,n=condition.creator_id;i.setHours(i.getHours()+1),a=new Date((new Date).setYear(i.getFullYear()+100));var s,l=$("#feed_type").val();function d(){var e=document.querySelector(".article-ckeditor").getAttribute("data-upload-path");CKEDITOR.ClassicEditor.create(document.querySelector(".article-ckeditor"),{ckfinder:{uploadUrl:e},toolbar:{items:["heading","|","bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","undo","redo","-","fontSize","fontFamily","fontColor","fontBackgroundColor","|","alignment","|","link","insertImage","blockQuote","mediaEmbed","|","specialCharacters","|","sourceEditing"],shouldNotGroupWhenFull:!0},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}]},link:{decorators:{addTargetToExternalLinks:!0,defaultProtocol:"https://",toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},mention:{feeds:[{marker:"@",feed:["@apple","@bears","@brownie","@cake","@cake","@candy","@canes","@chocolate","@cookie","@cotton","@cream","@cupcake","@danish","@donut","@dragée","@fruitcake","@gingerbread","@gummi","@ice","@jelly-o","@liquorice","@macaroon","@marzipan","@oat","@pie","@plum","@pudding","@sesame","@snaps","@soufflé","@sugar","@sweet","@topping","@wafer"],minimumCharacters:1}]},removePlugins:["CKBox","RealTimeCollaborativeComments","RealTimeCollaborativeTrackChanges","RealTimeCollaborativeRevisionHistory","PresenceList","Comments","TrackChanges","TrackChangesData","RevisionHistory","Pagination","WProofreader","MathType"]}).then((function(e){window.editor=e,s=e})).catch((function(e){console.error(e.stack)}))}function c(e,t){if(e&&e.files.length>0){var a=new FileReader;a.onload=function(a){var r=new Image;r.src=a.target.result,r.onload=function(){var a=$(e).data("width"),r=$(e).data("height"),o=$(e).data("ratio"),i=o,n=o.split(":"),s=n[0],l=n[1],d=gcd(this.width,this.height,l,s);(this.width<a&&this.height<r||d!=i)&&($(e).empty().val(""),$(e).parent("div").find(".custom-file-label").html("Choose File"),$(t).removeAttr("src"),toastr.error(message.upload_image_dimension),c(null,t))},$(t).attr("src",a.target.result)},a.readAsDataURL(e.files[0])}else $(t).removeAttr("src")}$("document").ready((function(){setTimeout((function(){$("#feedEdit").validate()}),2e3),d(),localStorage.getItem("tree-selection-error-message")&&(toastr.error(localStorage.getItem("tree-selection-error-message")),localStorage.clear()),$(document).on("click","#feedSubmit",(function(){if($("#feedEdit").valid(),""!=$("#start_date").val()&&""!=$("#end_date").val()){var e=new Date($("#start_date").val()),t=new Date($("#end_date").val())-e,a=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),o=Math.round(t%864e5%36e5/6e4);0==a&&0==r&&o<15&&(event.preventDefault(),toastr.error(message.start_end_interval_message))}("4"==l&&(content=s.getData(),description=$(content).text().trim(),s.setData(content),s.destroy(),d(),""==description?(event.preventDefault(),$("#description-error").html("The description field is required").addClass("invalid-feedback").show()):$("#description-error").removeClass("invalid-feedback").hide()),condition.isSA)&&(0==$("#feed_company").val()?($("#feedEdit").valid(),$(".tree-multiselect").css("border-color","#f44436")):$(".tree-multiselect").css("border-color","#D8D8D8"))})),$(".select2").select2({allowClear:!0,width:"100%"}),$("#goal_tag").select2({placeholder:message.select_goal_tags,multiple:!0,closeOnSelect:!1});var e=$("#multicompany option:selected").length,t=$("#multicompany option").length;$("#select_all_feed_company").prop("checked",e==t),$(document).on("change","#select_all_feed_company",(function(e){var t=$(this).is(":checked");$("#multicompany option").prop("selected",t).trigger("change")})),$("#multicompany").on("change.select2",(function(e){var t=$("#multicompany option:selected").length,a=$("#multicompany option").length;$("#select_all_feed_company").prop("checked",t==a)})),$("#start_date").datetimepicker({format:"yyyy-mm-dd hh:00",startDate:i,endDate:a,autoclose:!0,fontAwesome:!0,minView:"day",todayHighlight:!0,pickerPosition:"top-right"}).on("changeDate",(function(){$("#end_date").datetimepicker("setStartDate",new Date($(this).val())),$("#start_date").valid()})),$("#end_date").datetimepicker({format:"yyyy-mm-dd hh:00",startDate:i,endDate:a,autoclose:!0,fontAwesome:!0,minView:"day",todayHighlight:!0,pickerPosition:"top-right"}).on("changeDate",(function(){$("#start_date").datetimepicker("setEndDate",new Date($(this).val())),$("#end_date").valid()})),$("#start_date,#end_date").keypress((function(e){e.preventDefault()})),$("#end_date").change((function(e){$("#end_date").trigger("changeDate")})),$("#start_date").change((function(e){$("#start_date").trigger("changeDate")})),$(document).on("change","#featured_image, #audio_background, #audio_background_portal, #header_image",(function(e){var t=$(this).data("previewelement");if(e.target.files.length>0){var a=e.target.files[0].name;["image/png","image/jpeg","image/jpg","image/gif"].includes(e.target.files[0].type)?e.target.files[0].size>2097152?(toastr.error(message.image_size_2M_error),$(e.currentTarget).empty().val(""),c(null,t)):(c(e.target,t),$(this).parent("div").find(".custom-file-label").html(a)):(toastr.error(message.image_valid_error),$(e.currentTarget).empty().val(""),c(null,t))}else c(null,t)})),$(document).on("change","#audio, #video",(function(e){if(e.target.files.length>0){var t=e.target.files[0].name,a=$("#feed_type").val();2!=a||["video/mp4"].includes(e.target.files[0].type)?1!=a||["audio/mp3","audio/mpeg","audio/m4a","audio/x-m4a"].includes(e.target.files[0].type)?e.target.files[0].size>104857600?(2==a?toastr.error(message.video_size_100M_error):toastr.error(message.audio_size_100M_error),$(e.currentTarget).empty().val("")):$(this).parent("div").find(".custom-file-label").html(t):(toastr.error(message.audio_valid_error),$(e.currentTarget).empty().val("")):(toastr.error(message.video_valid_error),$(e.currentTarget).empty().val(""))}else $(e.currentTarget).empty().val("")})),$("#feedEdit").ajaxForm({beforeSend:function(){$(".progress-loader-wrapper .status-text").html(message.uploading_media),$(".progress-loader-wrapper").show(),$("#feedEdit .card-footer button, #feedEdit .card-footer a").attr("disabled","disabled");r.width("0%"),o.html("0%")},uploadProgress:function(e,t,a,i){var n=i+"%";r.width(n),o.html(n),100==i&&$(".progress-loader-wrapper .status-text").html(message.processing_media)},success:function(e){$(".progress-loader-wrapper").hide(),$("#feedEdit .card-footer button, #feedEdit .card-footer a").removeAttr("disabled");r.width("100%"),o.html("100%"),e.status&&1==e.status?window.location.replace(url.feed_index):toastr.error(e.message&&""!=e.message?e.message:message.something_wrong_try_again)},error:function(e){$(".progress-loader-wrapper").hide(),$("#feedEdit .card-footer button, #feedEdit .card-footer a").removeAttr("disabled"),e.responseJSON&&e.responseJSON.message&&""!=e.responseJSON.message?toastr.error(e.responseJSON.message):toastr.error(message.something_wrong_try_again);r.width("0%"),o.html("0%")},complete:function(e){$(".progress-loader-wrapper").hide(),$("#feedEdit .card-footer button, #feedEdit .card-footer a").removeAttr("disabled")}}),$("#youtube").focusout((function(){$(this).val($.trim($(this).val()).replace(/^0+/,""))})),condition.isSA&&($("#feed_company").treeMultiselect({enableSelectAll:!0,searchable:!0,startCollapsed:!0,onChange:function(e,t,a){var r=$("#feed_company").val().length;if(a[0].value==n)return localStorage.setItem("tree-selection-error-message",message.feed_cannot_remove),window.location.reload(),!1;0==r?($("#feedEdit").valid(),$("#feed_company-error").show(),$(".tree-multiselect").css("border-color","#f44436")):($("#feed_company-error").hide(),$(".tree-multiselect").css("border-color","#D8D8D8"))}}),$("#feedCompanyList .remove-selected").click((function(e){if(e.preventDefault(),$(this).parent().data("value")==n)return localStorage.setItem("tree-selection-error-message",message.feed_cannot_remove),window.location.reload(),!1}))),$("#setPermissionList").length>0&&($.mCustomScrollbar.defaults.scrollButtons.enable=!0,$.mCustomScrollbar.defaults.axis="yx",$("#setPermissionList").mCustomScrollbar({axis:"y",theme:"inset-dark"})),""!=l&&($("#main_wrapper").show(),"1"==l?$("#audio_wrapper").show():"2"==l?$("#video_wrapper").show():"3"==l?($("#youtube_wrapper").show(),$("#setPermissionList #check_2, #check_1").parent().parent().remove()):"4"==l?$("#content_wrapper").show():"5"==l&&$("#vimeo_wrapper").show())}))}});