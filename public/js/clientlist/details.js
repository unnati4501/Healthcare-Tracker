!function(e){var t={};function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=123)}({123:function(e,t,o){e.exports=o("zYER")},zYER:function(e,t){$(document).ready((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#cm_notes_filter").datepicker({autoclose:!0,todayHighlight:!0,format:"yyyy-mm-dd"}).on("changeDate",(function(e){var t=moment(e.date).format("YYYY-MM-DD");$(".no-cm-notes, .cm-notes-wrap").hide(),$(".loading-cm-notes").show(),$.ajax({url:url.notes,type:"POST",dataType:"html",data:{date:t}}).done((function(e){""!=e?($(".no-cm-notes").hide(),$(".cm-notes-wrap").html(e).show()):($(".cm-notes-wrap").html(""),$(".no-cm-notes").show())})).fail((function(){$(".no-cm-notes").show(),toastr.error(messages.failed_cm_notes)})).always((function(){$(".loading-cm-notes").hide()}))})),$("#cm_notes_filter").datepicker("update",new Date),$("#clientSessionsManagement").DataTable({processing:!0,serverSide:!0,ajax:{type:"POST",url:url.datatable,data:{getQueryString:window.location.search,name:$("#session_name").val(),status:$("#session_status").val()}},columns:[{data:"session_name",name:"session_name"},{data:"duration",name:"duration"},{data:"status",name:"status"},{data:"view",name:"view",className:"no-sort",searchable:!1,sortable:!1}],paging:!0,pageLength:pagination.value,lengthChange:!1,searching:!1,ordering:!0,order:[],info:!0,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',language:{paginate:{previous:pagination.previous,next:pagination.next}}}),$(document).on("click",".view-cancel-details",(function(e){var t=$(this).data("record"),o=t.cancelled_at?moment.utc(t.cancelled_at).tz(timezone).format(date_format):"",n=t.cancelled_reason||"";$("#cancelled_by").html(t.cancelled_by||""),$("#cancelled_at").html(o),$("#cancelation_reason").html(n?n.replace(/\\|\//g,""):""),$("#reason-model-box").modal("show")})),$(document).on("hidden.bs.modal","#add-note-model",(function(e){$("#note").val("").removeClass("is-invalid is-valid"),$("#note-error").remove()})),$(document).on("click","#add_notes_btn",(function(e){var t=document.querySelector(".ck-editor__editable");editorInstance=t.ckeditorInstance,notes=editorInstance.getData(),notes=$(notes).text().trim(),""==notes?(e.preventDefault(),$("#addNoteForm").valid(),$("#notes-error").html("The notes field is required.").addClass("is-invalid").show()):notes.length>1e3?(e.preventDefault(),$("#notes-error").html("The notes field may not be greater than 1000 characters.").addClass("is-invalid").show()):(console.log("Hide"),$("#notes-error").removeClass("is-invalid").hide())})),$(document).on("click",".open-editNotes-model",(function(){var e=$(this).data("id"),t=$(this).data("notefrom");$("#commentId").val($(this).data("id")),$("#clientId").val($(this).data("clientid")),$("#noteFrom").val($(this).data("notefrom")),$.ajax({type:"GET",url:url.getClientNote,data:{id:e,noteFrom:t},success:function(e){}})})),$(document).on("click","#edit_notes_btn",(function(e){notes="",""==notes?(e.preventDefault(),$("#editNoteForm").valid(),$("#edit-notes-error").html("The notes field is required.").addClass("is-invalid").show()):notes.length>1e3?(e.preventDefault(),$("#edit-notes-error").html("The notes field may not be greater than 1000 characters.").addClass("is-invalid").show()):$("#edit-notes-error").removeClass("is-invalid").hide()})),$(document).on("click","#clientNoteDelete",(function(e){$("#delete-model-box").attr("data-id",$(this).data("id")),$("#delete-model-box").attr("data-notefrom",$(this).data("notefrom")),$("#delete-model-box").modal("show")})),$(document).on("click","#delete-model-box-confirm",(function(e){$(".page-loader-wrapper").show();var t=$("#delete-model-box").attr("data-id");if("ClientNote"==$("#delete-model-box").attr("data-notefrom"))var o=url.deleteClientNote.replace(":id",t);else o=url.deleteSessionNote.replace(":id",t);$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"DELETE",url:o,data:null,crossDomain:!0,cache:!1,contentType:"json",success:function(e){$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide(),"true"==e.deleted?(toastr.success(messages.note_deleted),setTimeout((function(){window.location.reload()}),1e3)):toastr.error(messages.unable_to_delete_note)},error:function(e){toastr.error(message.unable_to_delete_note);$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()}})})),$(document).on("click",".diplay-note-model",(function(e){var t=$(this).attr("id"),o=$(this).attr("data-content");$("#diplay-note-model").attr("data-id",t),$("#modal_body").html(o),$("#diplay-note-model").show()})),$(document).on("click",".diplay-session-note-model",(function(e){var t=$(this).attr("id"),o=$(this).attr("data-content");$("#diplay-session-note-model").attr("data-id",t),$("#modal_session_body").html(o),$("#diplay-session-note-model").show()}))}))}});