!function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=28)}({28:function(e,t,r){e.exports=r("l+u9")},"l+u9":function(e,t){var r,a=$("#mainProgrssbar"),o=$("#mainProgrssbar .progpercent");function i(e,t){if(e&&e.files.length>0){var r=new FileReader;r.onload=function(r){var a=new Image;a.src=r.target.result,a.onload=function(){var r=$(e).data("width"),a=$(e).data("height"),o=$(e).data("ratio"),s=o,n=o.split(":"),l=n[0],d=n[1],c=gcd(this.width,this.height,d,l);(this.width<r&&this.height<a||c!=s)&&($(e).empty().val(""),$(e).parent("div").find(".custom-file-label").html("Choose File"),$(t).removeAttr("src"),toastr.error(messages.upload_image_dimension),i(null,t))},$(t).attr("src",r.target.result)},r.readAsDataURL(e.files[0])}else $(t).removeAttr("src")}function s(e,t){t=t||!1;var r=parseInt(e,10),a=Math.floor(r/60),o=r-60*a;return a<10&&(a="0"+a),o<10&&(o="0"+o),!0===t?Math.ceil("".concat(a,".").concat(o)):"".concat(a,".").concat(o)}function n(){var e=document.querySelector(".article-ckeditor").getAttribute("data-upload-path");CKEDITOR.ClassicEditor.create(document.querySelector(".article-ckeditor"),{ckfinder:{uploadUrl:e},toolbar:{items:["heading","|","bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","undo","redo","-","fontSize","fontFamily","fontColor","fontBackgroundColor","|","alignment","|","link","insertImage","blockQuote","mediaEmbed","|","specialCharacters","|","sourceEditing"],shouldNotGroupWhenFull:!0},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}]},link:{decorators:{addTargetToExternalLinks:!0,defaultProtocol:"https://",toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},mention:{feeds:[{marker:"@",feed:["@apple","@bears","@brownie","@cake","@cake","@candy","@canes","@chocolate","@cookie","@cotton","@cream","@cupcake","@danish","@donut","@dragée","@fruitcake","@gingerbread","@gummi","@ice","@jelly-o","@liquorice","@macaroon","@marzipan","@oat","@pie","@plum","@pudding","@sesame","@snaps","@soufflé","@sugar","@sweet","@topping","@wafer"],minimumCharacters:1}]},removePlugins:["CKBox","RealTimeCollaborativeComments","RealTimeCollaborativeTrackChanges","RealTimeCollaborativeRevisionHistory","PresenceList","Comments","TrackChanges","TrackChangesData","RevisionHistory","Pagination","WProofreader","MathType"]}).then((function(e){window.editor=e,r=e})).catch((function(e){console.error(e.stack)}))}$(document).ready((function(){n(),setTimeout((function(){$("#courseLessionEdit").validate()}),2e3),$(".numeric").numeric({decimal:!1,negative:!1}),$("#duration").focusout((function(){$(this).val($.trim($(this).val()).replace(/^0+/,""))})),$("#youtube").focusout((function(){$(this).val($.trim($(this).val()).replace(/^0+/,""))}));var e=!0;""!=_lesson_type&&($("#main_wrapper").show(),"1"==_lesson_type?$("#audio_wrapper").show():"2"==_lesson_type?$("#video_wrapper").show():"3"==_lesson_type?($("#youtube_wrapper").show(),e=!1):"4"==_lesson_type?($("#content_wrapper").show(),e=!1):"5"==_lesson_type&&($("#vimeo_wrapper").show(),e=!1),$("#duration").prop("readonly",e)),$("#video_duration").on("loadedmetadata",(function(e){var t=e.currentTarget.duration,r=moment.duration(t,"seconds"),a=3600*r.hours()+60*r.minutes()+r.seconds();a>59?($("#duration").val(s(a,!0)),$("#courseLessionEdit").validate().element("#duration")):(toastr.error(messages.video_length_limit),$("#video").val("")),URL.revokeObjectURL(void 0)})),$("#audio_duration").on("canplaythrough",(function(e){var t=e.currentTarget.duration,r=moment.duration(t,"seconds"),a=3600*r.hours()+60*r.minutes()+r.seconds();a>59?($("#duration").val(s(a,!0)),$("#courseLessionEdit").validate().element("#duration")):(toastr.error(messages.audio_length_limit),$("#audio").val("")),URL.revokeObjectURL(void 0)})),$(document).on("change","#audio_background, #audio_background_portal, #logo",(function(e){var t=$(this).data("previewelement");if(e.target.files.length>0){var r=e.target.files[0].name;["image/png","image/jpeg","image/jpg"].includes(e.target.files[0].type)?e.target.files[0].size>2097152?(toastr.error(messages.image_size_2M_error),$(e.currentTarget).empty().val(""),i(null,t)):(i(e.target,t),$(this).parent("div").find(".custom-file-label").html(r)):(toastr.error(messages.image_valid_error),$(e.currentTarget).empty().val(""),i(null,t))}else $(this).parent("div").find(".custom-file-label").html(messages.choosefile),i(null,t)})),$("#audio, #video").change((function(e){if(e.target.files.length>0){var t=e.target.files[0].name,r=$("#lesson_type").val();if(2!=r||["video/mp4"].includes(e.target.files[0].type))if(1!=r||["audio/mp3","audio/mpeg","audio/m4a","audio/x-m4a"].includes(e.target.files[0].type))if(e.target.files[0].size>104857600)2==r?toastr.error(messages.video_size_100M_error):toastr.error(messages.audio_size_100M_error),$(e.currentTarget).empty().val("");else{$(this).parent("div").find(".custom-file-label").html(t);var a=URL.createObjectURL(e.target.files[0]);1==r?$("#audio_duration").prop("src",a):2==r&&$("#video_duration").prop({preload:"metadata",src:a})}else toastr.error(messages.meditation_track_audio_valid_error),$(e.currentTarget).empty().val("");else toastr.error(messages.video_valid_error),$(e.currentTarget).empty().val("")}else $(e.currentTarget).empty().val(""),$("#duration").val("")})),$("#courseLessionEdit").ajaxForm({beforeSend:function(){$(".progress-loader-wrapper .status-text").html(messages.uploading_media),$(".progress-loader-wrapper").show(),$("#courseLessionEdit .card-footer button, #courseLessionEdit .card-footer a").attr("disabled","disabled");a.width("0%"),o.html("0%")},uploadProgress:function(e,t,r,i){var s=i+"%";a.width(s),o.html(s),100==i&&$(".progress-loader-wrapper .status-text").html(messages.processing_media)},success:function(e){$(".progress-loader-wrapper").hide(),$("#courseLessionEdit .card-footer button, #courseLessionEdit .card-footer a").removeAttr("disabled");a.width("100%"),o.html("100%"),e.status&&1==e.status?window.location.replace(e.url):e.message&&""!=e.message&&toastr.error(e.message)},error:function(e){$(".progress-loader-wrapper").hide(),$("#courseLessionEdit .card-footer button, #courseLessionEdit .card-footer a").removeAttr("disabled"),e.responseJSON&&e.responseJSON.message&&""!=e.responseJSON.message?toastr.error(e.responseJSON.message):toastr.error(messages.something_wrong_try_again);a.width("0%"),o.html("0%")},complete:function(e){$(".progress-loader-wrapper").hide(),$("#courseLessionEdit .card-footer button, #courseLessionEdit .card-footer a").removeAttr("disabled")}})})),$(document).on("click","#zevo_submit_btn",(function(){if("4"==_lesson_type)return content=r.getData(),description=$(content).text().trim(),r.setData(content),r.destroy(),n(),""==description?($("#zevo_submit_btn").removeAttr("disabled"),event.preventDefault(),$("#description-error-cstm").html("The description field is required").addClass("invalid-feedback").show()):$("#description-error-cstm").removeClass("invalid-feedback").hide(),!0}))}});