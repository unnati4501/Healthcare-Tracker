!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=29)}({29:function(e,t,o){e.exports=o("xiy+")},"xiy+":function(e,t){function o(e,t){if(e&&e.files.length>0){var n=new FileReader;n.onload=function(n){var i=new Image;i.src=n.target.result,i.onload=function(){var n=$(e).data("width"),i=$(e).data("height"),s=$(e).data("ratio"),r=s,a=s.split(":"),l=a[0],d=a[1],u=gcd(this.width,this.height,d,l);(this.width<n&&this.height<i||u!=r)&&($(e).empty().val(""),$(e).parent("div").find(".custom-file-label").html("Choose File"),$(t).removeAttr("src"),toastr.error(messages.upload_image_dimension),o(null,t))},$(t).attr("src",n.target.result)},n.readAsDataURL(e.files[0])}else $(t).removeAttr("src")}$(document).ready((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},timeout:12e5}),queCount>1&&($("#surveyEdit").validate().settings.ignore=".ignore-validation",$(".qus-option-table").each((function(e,t){$(t).find("tr").length>1&&$(t).find("tr:last td:last").removeClass("show_del")}))),$(".select2").select2({width:"100%"}),$(document).on("change",".question_logo_tag",(function(e){var t=$(this).data("previewelement");if(e.target.files.length>0){var n=e.target.files[0].name;$(".toast").remove(),["image/png","image/jpeg","image/jpg"].includes(e.target.files[0].type)?e.target.files[0].size>2097152?(toastr.error(messages.image_size_2M_error),$(e.currentTarget).empty().val(""),$(this).parent("div").find(".custom-file-label").html(messages.choosefile),o(null,t)):(o(e.target,t),$(this).parent("div").find(".custom-file-label").html(n)):(toastr.error(messages.image_valid_error),$(e.currentTarget).empty().val(""),$(this).parent("div").find(".custom-file-label").html(messages.choosefile),o(null,t))}else $(this).parent("div").find(".custom-file-label").html(messages.choosefile),o(null,t)})),$(document).on("click",".add_question",(function(e){if($(".questions-block .single-question-block").length<5){queCount++;var t=$("#survey_questions_temp").text().trim();t=t.replace(/\:id/g,queCount),$(".questions-block").append(t),$(".questions-block .single-question-block:last .select2").select2({width:"100%"})}else $(".toast").remove(),toastr.error(messages.max_options)})),$(document).on("click",".remove-question",(function(e){var t=$(".questions-block .single-question-block").length,o=$(this).data("id");t>1?($("#remove-survey-question-model-box").data("id",o),$("#remove-survey-question-model-box").modal("show")):($(".toast").remove(),toastr.error(messages.min_questions))})),$(document).on("click","#remove-survey-question-model-box-confirm",(function(e){var t=$("#remove-survey-question-model-box").data("id");$('.single-question-block[data-id="'.concat(t,'"]')).length>0&&($("#remove-survey-question-model-box").modal("hide"),$('.single-question-block[data-id="'.concat(t,'"]')).hasClass("old-added")&&(_deleted_questions.push(t),$('input[name="deleted_questions"]').val(_deleted_questions.toString())),$('.single-question-block[data-id="'.concat(t,'"]')).remove())})),$(document).on("hidden.bs.modal","#remove-survey-question-model-box",(function(e){$("#remove-survey-question-model-box").data("id",0)})),$(document).on("click",".add-option",(function(e){if($(this).parents("tbody").find("tr").length<7){var t=$(this).data("qid"),o=$("#survey_option_temp").text().trim();optionCount++,o=(o=o.replace(/\:id/g,t)).replace(/\:oid/g,optionCount),$(this).parents("tbody").append(o),$(this).parents("tbody").find("tr:last").find(".select2").select2({width:"100%"})}else $(".toast").remove(),toastr.error(messages.max_questions)})),$(document).on("click",".remove-option",(function(e){e.preventDefault();var t=$(this).data("qid"),o=$(this).data("oid");$(this).hasClass("old-added")&&(_deleted_options.push(o),$('input[name="deleted_options"]').val(_deleted_options.toString())),$($(this).closest("tr")).remove(),1==$(".question-option-".concat(t," tbody tr")).length&&$(".question-option-".concat(t," tbody tr td:last")).removeClass("show_del")}))}))}});