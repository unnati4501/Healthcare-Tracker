!function(e){var a={};function t(r){if(a[r])return a[r].exports;var o=a[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)t.d(r,o,function(a){return e[a]}.bind(null,o));return r},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="/",t(t.s=92)}({92:function(e,a,t){e.exports=t("woNB")},woNB:function(e,a){$(document).ready((function(){$("#mainProgrssbar"),$("#mainProgrssbar .progpercent"),new Date((new Date).setDate(-15)),new Date((new Date).setDate(15));$("#exportIntercompanychallenge").validate({rules:{email:{email:!0},start_date:{required:!0},end_date:{required:!0}},messages:{start_date:"From date field is required.",end_date:"To date field is required."}}),$("#exportIntercompanychallenge").ajaxForm({beforeSend:function(){$(".page-loader-wrapper").fadeIn(),$("#exportIntercompanychallenge .card-footer button, #exportIntercompanychallenge .card-footer a").attr("disabled","disabled")},success:function(e){$("#exportIntercompanychallenge .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled"),$("#export-model-box").modal("hide"),1==e.status?toastr.success(e.data):toastr.error(e.data)},error:function(e){$("#exportIntercompanychallenge .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled"),e.responseJSON&&e.responseJSON.message&&""!=e.responseJSON.message?toastr.error(e.responseJSON.message):toastr.error(message.somethingWentWrong)},complete:function(e){$(".page-loader-wrapper").fadeOut(),$("#exportIntercompanychallenge .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled")}}),$("#challengeStatus").select2({placeholder:"Select challenge status",allowClear:!0}),$("#challengeCategory").select2({placeholder:"Select challenge category",allowClear:!0}),$("#recursive").select2({placeholder:"Is Recursive?",allowClear:!0}),$("#challengeManagment").DataTable({processing:!0,serverSide:!0,ajax:{url:url.datatable,data:{status:1,challengeStatus:$("#challengeStatus").val(),recursive:$("#recursive").val(),challengeName:$("#challengeName").val(),challengeCategory:$("#challengeCategory").val(),getQueryString:window.location.search}},columns:[{data:"updated_at",name:"updated_at",visible:!1},{data:"logo",name:"logo",searchable:!1,sortable:!1},{data:"title",name:"title"},{data:"challengecategory",name:"challengecategory"},{data:"target",name:"target"},{data:"start_date",name:"start_date",render:function(e,a,t){return"".concat(moment.utc(t.start_date).tz(timezone).format(date_format)," - ").concat(moment.utc(t.end_date).tz(timezone).format(date_format))}},{data:"recurring",name:"recurring"},{data:"challengeStatus",name:"challengeStatus"},{data:"actions",name:"actions",searchable:!1,sortable:!1}],paging:!0,pageLength:pagination.value,lengthChange:!1,searching:!1,ordering:!0,order:[[0,"desc"]],info:!0,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1},{targets:6,visible:"challenges"==currentRoute},{targets:[8],className:"text-center"}],dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',language:{paginate:{previous:pagination.previous,next:pagination.next}},stateSave:!1}),$("#start_date").datepicker({format:"yyyy-mm-dd",minDate:new Date,maxDate:new Date,autoclose:!0,fontAwesome:!0,todayHighlight:!1,pickerPosition:"top-right",setDate:new Date}),$("#end_date").datepicker({format:"yyyy-mm-dd",autoclose:!0,fontAwesome:!0,todayHighlight:!1,pickerPosition:"top-right",setDate:new Date}),$(document).on("click","#challengeDelete",(function(e){$("#delete-model-box").attr("data-id",$(this).data("id")),$("#delete-model-box").modal("show")})),$(document).on("click","#challengeCancel",(function(e){$("#cancel-model-box").attr("data-id",$(this).data("id")),$("#cancel-model-box").modal("show")})),$(document).on("keyup","#cancel_reason",(function(e){var a=$("#cancel_reason").val();return $(".cancel_reason").hide(),$("#cancel_reason").css("border","1px solid #e0e1e6"),a.length<=0?($("#cancel_reason-error").show(),void $("#cancel_reason").css("border","1px solid red")):a.length>500?($("#cancel_reason-error-max-character").show(),void $("#cancel_reason").css("border","1px solid red")):void 0})),$(document).on("click","#cancel-model-box-confirm",(function(e){var a=$("#cancel-model-box").data("id"),t=$("#cancel_reason").val();return $(".cancel_reason").hide(),$("#cancel_reason").css("border","1px solid #e0e1e6"),t.length<=0?($("#cancel_reason-error").show(),void $("#cancel_reason").css("border","1px solid red")):t.length>500?($("#cancel_reason-error-max-character").show(),void $("#cancel_reason").css("border","1px solid red")):($(".page-loader-wrapper").show(),void $.ajax({type:"POST",url:url.cancelChallenge+"/"+a,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{reason:t},success:function(e){$("#challengeManagment").DataTable().ajax.reload(null,!1),e.cancellation?($("#cancel-model-box").modal("hide"),$(".page-loader-wrapper").hide(),toastr.success(message.cancellation)):toastr.error(message.somethingWentWrong)},error:function(e){}}))})),$(document).on("click","#challengeExport",(function(e){var a=$(this).data("id"),t=$(this).attr("data-start"),r=$(this).attr("data-end");$("#email").val(loginemail).removeClass("error"),$("#start_date,#end_date").removeClass("error"),$(".error").remove(),new Date(r)>new Date&&(r=new Date);var o=t,n=r;t=new Date(new Date(t).setDate(new Date(t).getDate()-startDate)),r=new Date(new Date(r).setDate(new Date(r).getDate()+parseInt(endDate))),new Date(r)>new Date&&(r=new Date),$("#start_date,#end_date").datepicker("destroy"),$("#start_date").datepicker({dateFormat:"yyyy-mm-dd"}),$("#end_date").datepicker({dateFormat:"yyyy-mm-dd"}),$("#start_date").datepicker("setStartDate",moment(t).format("YYYY-MM-D")),$("#start_date").datepicker("setEndDate",moment(r).format("YYYY-MM-D")),$("#end_date").datepicker("setStartDate",moment(t).format("YYYY-MM-D")),$("#end_date").datepicker("setEndDate",moment(r).format("YYYY-MM-D")),$("#start_date").datepicker("update",moment(o).format("YYYY-MM-D")),$("#end_date").datepicker("update",moment(n).format("YYYY-MM-D")),$("#start_date,#end_date").datepicker("refresh"),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"GET",url:url.exportHistory+"/"+a,data:null,crossDomain:!0,cache:!1,contentType:"json",success:function(e){1==e?($("#exportChallenge").hide(),$("#exportChallengeMsg").show(),$("#export-model-box").modal("show")):($(".loadingMsg").remove(),$("#challengeId").after('<div class="loadingMsg" style="text-align: center;color: red;">Data Loading... Please wait</div>'),$("#export-model-box-confirm").prop("disabled",!0),$("#exportChallengeMsg").hide(),$("#exportChallenge").show(),$("#challengeId").val(a),$("#export-model-box").attr("data-id",$(this).data("id")),$("#export-model-box").modal("show")),$.ajax({type:"GET",url:url.setAccurateData+"/"+a,data:null,crossDomain:!0,cache:!1,contentType:"json",success:function(e){$(".loadingMsg").remove(),$("#export-model-box-confirm").prop("disabled",!1)},error:function(e){}})},error:function(e){}})})),$(document).on("click","#delete-model-box-confirm",(function(e){$(".page-loader-wrapper").show();var a=$("#delete-model-box").attr("data-id");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"DELETE",url:url.delete+"/"+a,data:null,crossDomain:!0,cache:!1,contentType:"json",success:function(e){$("#challengeManagment").DataTable().ajax.reload(null,!1),"true"==e.deleted?toastr.success(message.deleted):"use"==e.deleted?toastr.error(message.inUse):toastr.error(message.somethingWentWrong);$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()},error:function(e){$("#challengeManagment").DataTable().ajax.reload(null,!1),toastr.error(message.unauthorized);$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()}})}))}))}});