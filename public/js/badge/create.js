!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=78)}({78:function(e,t,a){e.exports=a("QJR0")},QJR0:function(e,t){$(document).ready((function(){$(".select2").select2({placeholder:"Select",allowClear:!0,width:"100%"});var e=$("#badge_type").val();""!=e&&null!=e&&$("#badge_type").trigger("change");var t=$("#badge_target").val();""!=t&&null!=t&&$("#badge_target").trigger("change"),$("#will_badge_expire").trigger("change"),$("#target_values").focusout((function(){$(this).val($.trim($(this).val()).replace(/^0+/,""))}));var a=$("#excercise_type").val();""!=a&&null!=a&&$("#excercise_type").trigger("change"),$('input[type="file"]').change((function(e){var t=e.target.files[0].name;t.length>40&&(t=t.substr(0,40));["image/png","image/jpeg","image/jpg"].includes(e.target.files[0].type)?e.target.files[0].size>2097152?(toastr.error(message.image_size_2M_error),$(e.currentTarget).empty().val(""),$(this).parent("div").find(".custom-file-label").val("")):$(this).parent("div").find(".custom-file-label").html(t):(toastr.error(message.image_valid_error),$(e.currentTarget).empty().val(""),$(this).parent("div").find(".custom-file-label").val(""))})),$("#logo").change((function(){!function e(t,a){if(t&&t.files&&t.files[0]){var r=new FileReader;r.onload=function(r){var n=new Image;n.src=r.target.result,n.onload=function(){var r=$(t).data("width"),n=$(t).data("height"),i=$(t).data("ratio"),l=i,o=i.split(":"),s=o[0],d=o[1],c=gcd(this.width,this.height,d,s);(this.width<r&&this.height<n||c!=l)&&($(t).empty().val(""),$(t).parent("div").find(".custom-file-label").html("Choose File"),$(a).removeAttr("src"),toastr.error(message.upload_image_dimension),e(null,a))},$("#previewImg").attr("src",r.target.result)},r.readAsDataURL(t.files[0])}else $(a).removeAttr("src")}(this,"#previewImg")})),$("#badge_type").change((function(e){if("ongoing"==$("#badge_type option:selected").val()){var t=JSON.parse(data.ongoingChallengeTarget);$("#badge_target").empty(),$.each(t,(function(e,t){$("#badge_target").append('<option value="'+e+'">'+t+"</option>")})),$(".generalbadgediv").hide().addClass("d-none")}else{var a=JSON.parse(data.challenge_targets);$("#badge_target").empty(),$.each(a,(function(e,t){$("#badge_target").append('<option value="'+e+'">'+t+"</option>")})),$(".generalbadgediv").show().removeClass("d-none")}})),$("#badge_target").change((function(e){if(""!=$(this).val()){var t;t=$("#badge_target option:selected").text();var a=JSON.parse(data.uom_data);$("#uom").empty(),$.each(a[t],(function(e,t){$("#uom").append('<option value="'+e+'">'+t+"</option>")})),$.each(a[t],(function(e,t){$("#uom").select2("val",e)})),"Exercises"==t?($("#excercise_type").attr("disabled",!1),$(".excercise_type").removeClass("d-none"),$("#uom").select2("val","")):($("#excercise_type").attr("disabled",!0),$("#excercise_type").select2("val",""),$(".excercise_type").addClass("d-none"),$("#uom").attr("disabled",!0))}})),$("#badge_type").change((function(e){""!=$(this).val()&&("challenge"==$(this).val()?($(".badge_target").removeClass("d-none"),$(".uom").removeClass("d-none"),$("#will_badge_expire").prop("checked",!1),$(".expire_days").addClass("d-none"),$("#no_of_days").val(""),$("#will_badge_expire").prop("disabled",!0),$(".willExpireVisibility").addClass("d-none")):"general"==$(this).val()?($(".badge_target").removeClass("d-none"),$(".uom").removeClass("d-none"),$(".willExpireVisibility").removeClass("d-none"),$("#will_badge_expire").prop("disabled",!1)):"course"==$(this).val()&&($(".badge_target").addClass("d-none"),$(".excercise_type").addClass("d-none"),$(".uom").addClass("d-none"),$("#badge_target").val("")),$("#badge_target").trigger("change"))})),$("#will_badge_expire").change((function(e){$("#will_badge_expire").is(":checked")?$(".expire_days").removeClass("d-none"):($(".expire_days").addClass("d-none"),$("#no_of_days").val(""))})),$("#excercise_type").change((function(e){if(""!=$(this).val()){var t=JSON.parse(data.exerciseType)[$(this).val()],a=JSON.parse(data.uom_data);$("#uom").select2("val",""),$("#uom").empty(),"both"!=t?($("#uom").attr("disabled",!0),$("#uom").append('<option value="'+t+'">'+t.charAt(0).toUpperCase()+t.slice(1)+"</option>"),$("#uom").select2("val",t)):($("#uom").attr("disabled",!1),$.each(a.Exercises,(function(e,t){$("#uom").append('<option value="'+e+'">'+t+"</option>")})),$("#uom").select2())}})),$(document).on("click","#badgeFormsubmit",(function(){$("#badgeAdd").valid()&&(""==$("#badge_type").val()&&(event.preventDefault(),toastr.error(message.badge_type_required)),"4"==$("#badge_target").val()&&null==$("#uom").val()&&(event.preventDefault(),toastr.error(message.unit_of_measurement)),$("#unite").val($("#uom").val()),$("#unite1").val($("#badge_type").val()))}))}))}});