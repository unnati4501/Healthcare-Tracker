!function(e){var t={};function a(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=59)}({59:function(e,t,a){e.exports=a("Vykw")},Vykw:function(e,t){$(document).ready((function(){document.getElementById("export-model-box").addEventListener("shown.bs.modal",(function(e){$("#countrySearch").select2({dropdownParent:$("#export-model-box")}),$("#timezoneSearch").select2({dropdownParent:$("#export-model-box")}),$("#stateSearch").select2({dropdownParent:$("#export-model-box")})})),$("#locationManagment").DataTable({processing:!0,serverSide:!0,ajax:{url:url.datatable,data:{status:1,locationName:$("#locationName").val(),country:$("#country").val(),companyId:$("#companyid").val(),timezone:condition.timezone,getQueryString:window.location.search}},columns:[{data:"updated_at",name:"updated_at",visible:!1},{data:"company_name",name:"company_name",visible:condition.companyColVisibility},{data:"name",name:"name"},{data:"country_name",name:"country_name"},{data:"state_name",name:"state_name"},{data:"timezone",name:"timezone"},{data:"address",name:"address"},{data:"actions",name:"actions",searchable:!1,sortable:!1,className:"text-center"}],drawCallback:function(e){0==this.api().rows().count()?$("#locationExport").hide():$("#locationExport").show()},paging:!0,pageLength:pagination.value,lengthChange:!1,searching:!1,ordering:!0,order:[[0,"desc"]],info:!0,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',stateSave:!1,language:{paginate:{previous:pagination.previous,next:pagination.next}}}),$(document).on("click","#locationDelete",(function(e){$("#delete-model-box").attr("data-id",$(this).data("id")),$("#delete-model-box").modal("show")})),$(document).on("click","#delete-model-box-confirm",(function(e){$(".page-loader-wrapper").show();var t=$("#delete-model-box").attr("data-id");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"DELETE",url:url.delete.replace(":id",t),data:null,crossDomain:!0,cache:!1,contentType:"json",success:function(e){$("#locationManagment").DataTable().ajax.reload(null,!1),"true"==e.deleted?toastr.success(message.locationDeleted):"use"==e.deleted?toastr.error(message.locationInUse):toastr.error(message.unableToDeleteLocation);$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()},error:function(e){$("#locationManagment").DataTable().ajax.reload(null,!1),toastr.error(message.unableToDeleteLocation);$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()}})}));var e=url.timezoneUrl,t=url.stateUrl;setTimeout((function(){var e=$("#country").val();""!=e&&null!=e&&$("#timezone").removeAttr("disabled")}),10),$("#country").change((function(){if(e=e,""!=$("#country").val()&&null!=$("#country").val()){if("country"==$(this).attr("id")&&"timezone"==$(this).attr("target-data")){$(this).attr("id");var t=$(this).val(),a=$(this).attr("target-data"),o=$('input[name="_token"]').val();url=e.replace(":id",t),$.ajax({url:url,method:"get",data:{_token:o},success:function(e){$("#"+a).empty().attr("disabled",!1),$("#"+a).val("").trigger("change").append('<option value="">Select</option>'),$("#"+a).removeClass("is-valid"),$.each(e.result,(function(e,t){$("#"+a).append('<option value="'+t.id+'">'+t.name+"</option>")})),1==Object.keys(e.result).length&&$.each(e.result,(function(e,t){$("#"+a).select2("val",t.id)}));var t=condition.timezone;""!=t&&null!=t&&$("#timezone").select2("val",t)}})}}else $("#timezone").html("").select2("destroy").select2()})),$("#countrySearch").change((function(){if(e=e,""!=$("#countrySearch").val()&&null!=$("#countrySearch").val()){if("countrySearch"==$(this).attr("id")){$(this).attr("id");var a=$(this).val(),o=($(this).attr("target-data"),$('input[name="_token"]').val());url=e.replace(":id",a),$.ajax({url:url,method:"get",data:{_token:o},success:function(e){$("#timezoneSearch").empty().attr("disabled",!1),$("#timezoneSearch").val("").trigger("change").append('<option value="">Select</option>'),$("#timezoneSearch").removeClass("is-valid"),$.each(e.result,(function(e,t){$("#timezoneSearch").append('<option value="'+t.id+'">'+t.name+"</option>")})),1==Object.keys(e.result).length&&$.each(e.result,(function(e,t){$("#timezoneSearch").select2("val",t.id)}));var t=condition.timezone;""!=t&&null!=t&&$("#timezoneSearch").select2("val",t)}}),$.ajax({url:t.replace(":id",a),method:"get",data:{_token:o},success:function(e){$("#stateSearch").empty(),$("#stateSearch").attr("disabled",!1),$("#stateSearch").val("").trigger("change").append('<option value="">Select</option>'),$("#stateSearch").removeClass("is-valid"),$.each(e.result,(function(e,t){$("#stateSearch").append('<option value="'+t.id+'">'+t.name+"</option>")})),1==Object.keys(e.result).length&&$.each(e.result,(function(e,t){$("#stateSearch").select2("val",t.id)}))}})}}else $("#timezoneSearch").html("").select2("destroy").select2(),$("#stateSearch").html("").select2("destroy").select2()})),$(".daterangesFromExportModel").datepicker({format:"yyyy-mm-dd",todayHighlight:!1,autoclose:!0}),$(document).on("click","#locationExport",(function(e){$(this).attr("data-start"),$(this).attr("data-end");$("#email").val(loginemail).removeClass("error"),$("#queryString").val(JSON.stringify(function(){for(var e=document.location.href,t=e.substring(e.indexOf("?")+1).split("&"),a=0,o={};a<t.length;a++)t[a]=t[a].split("="),o[t[a][0]]=decodeURIComponent(t[a][1]);return o}())),$(".error").remove(),$("#model-title").html($(this).data("title")),$("#exportLocationReport").attr("action",url.locationExportUrl),$(".loadingMsg").remove(),$("#export-model-box-confirm").prop("disabled",!1),$("#exportReportMsg").hide(),$("#exportLocations").show(),$("#export-model-box").attr("data-id",$(this).data("id")),$("#export-model-box").modal("show")})),$("#exportLocationReport").validate({errorClass:"error text-danger",errorElement:"span",highlight:function(e,t,a){$("span#email-error").addClass(t).removeClass(a)},unhighlight:function(e,t,a){$("span#email-error").removeClass(t).addClass(a)},rules:{email:{email:!0,required:!0}}}),$("#exportLocationReport").ajaxForm({beforeSend:function(){$(".page-loader-wrapper").fadeIn(),$("#exportLocationReport .card-footer button, #exportIntercompanychallenge .card-footer a").attr("disabled","disabled")},success:function(e){$("#exportLocationReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled"),$("#export-model-box").modal("hide"),1==e.status?toastr.success(e.data):toastr.error(e.data)},error:function(e){$("#exportLocationReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled"),e.responseJSON&&e.responseJSON.message&&""!=e.responseJSON.message?toastr.error(e.responseJSON.message):toastr.error(message.somethingWentWrong)},complete:function(e){$(".page-loader-wrapper").fadeOut(),$("#exportLocationReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled")}})}))}});