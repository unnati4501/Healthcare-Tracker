!function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=90)}({90:function(e,t,a){e.exports=a("eq24")},eq24:function(e,t){var a=$("#mainProgrssbar"),r=$("#mainProgrssbar .progpercent");$(document).ready((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#CILManagment").DataTable({processing:!0,serverSide:!0,ajax:{url:url.datatable,data:{target_type:$("#target_type").val(),getQueryString:window.location.search}},columns:[{data:"image",searchable:!1,sortable:!1},{data:"target",name:"target"},{data:"actions",name:"actions",searchable:!1,sortable:!1,className:"text-center"}],paging:!0,pageLength:pagination.value,lengthChange:!1,searching:!1,ordering:!0,order:[],info:!0,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],language:{paginate:{previous:pagination.previous,next:pagination.next}},dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>'}),$(document).on("click",".delete-image",(function(e){$("#delete-model-box").data("id",$(this).data("id")),$("#delete-model-box").modal("show")})),$(document).on("click","#delete-model-box-confirm",(function(e){var t=$(this),a=$("#delete-model-box").data("id");t.prop("disabled",!0),$(".page-loader-wrapper").show(),$.ajax({type:"DELETE",url:url.delete+"/".concat(a),crossDomain:!0,cache:!1,contentType:"json"}).done((function(e){$("#CILManagment").DataTable().ajax.reload(null,!1),1==e.deleted?toastr.success(message.deleted):toastr.error(message.somethingWentWrong)})).fail((function(e){"Forbidden"==e&&toastr.error(message.somethingWentWrong)})).always((function(){t.prop("disabled",!1),$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()}))})),$(document).on("change","#images",(function(e){var t=e.currentTarget,a=t.files,r=a.length,o=["image/png","image/jpeg","image/jpg"],n=!0;a&&r>0&&(r<=maxImagesLimit?$.each(a,(function(e,a){if(!o.includes(a.type))return toastr.error(message.image_valid_error),n=!1,!1;if(a.size>2097152)return toastr.error(message.image_size_2M_error),n=!1,!1;var i=new FileReader;i.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){var e=$(t).data("width"),a=$(t).data("height"),o=$(t).data("ratio"),i=o,s=o.split(":"),l=s[0],d=s[1],g=gcd(this.width,this.height,d,l);if(this.width<e&&this.height<a||g!=i)return toastr.error(message.upload_image_dimension),$("#images").val(""),$(t).parent("div").find(".custom-file-label").html("Choose File"),n=!1,!1;0==n?($("#images").val(""),$(t).parent("div").find(".custom-file-label").html("Choose File")):$(t).parent("div").find(".custom-file-label").html("".concat(r," image").concat(r>1?"s":""," selected"))}},i.readAsDataURL(a)})):(toastr.error("Maximum ".concat(maxImagesLimit," images can be uploaded at a time.")),$("#images").val(""),$(t).parent("div").find(".custom-file-label").html("Choose File")))})),$("#bulkUploadImagesFrm").ajaxForm({beforeSend:function(){$(".progress-loader-wrapper .status-text").html("Uploading images...."),$(".progress-loader-wrapper").show();a.width("0%"),r.html("0%")},uploadProgress:function(e,t,o,n){var i=n+"%";a.width(i),r.html(i),100==n&&$(".progress-loader-wrapper .status-text").html("Processing on images...")},success:function(e){$(".progress-loader-wrapper").hide();a.width("100%"),r.html("100%"),e.status&&1==e.status?window.location.reload():e.message&&""!=e.message&&toastr.error(e.message)},error:function(e){$(".progress-loader-wrapper").hide(),e.responseJSON&&e.responseJSON.message&&""!=e.responseJSON.message?toastr.error(e.responseJSON.message||message.somethingWentWrong):toastr.error(message.somethingWentWrong);a.width("0%"),r.html("0%")},complete:function(e){$(".progress-loader-wrapper").hide()}})}))}});