!function(e){var a={};function t(n){if(a[n])return a[n].exports;var l=a[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)t.d(n,l,function(a){return e[a]}.bind(null,l));return n},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="/",t(t.s=97)}({97:function(e,a,t){e.exports=t("wARI")},wARI:function(e,a){function t(){var e,a;""!=$("#challengeStatus").val()&&""!=$("#challengeType").val()&&(e=$("#challengeStatus").val(),a=$("#challengeType").val(),$.get(url.getChallenges,{challengeStatus:e,challengeType:a},(function(e,a,t){if(200==t.status&&e&&1==e.status){var n="";$.each(e.data,(function(e,a){n+='<option value="'.concat(e,'">').concat(a,"</option>")})),$("#challenge").html(n).val("").prop("disabled",!1),$("#challenge").select2("destroy").select2(),$("#company").empty().prop("disabled",!0),$("#company").select2("destroy").select2(),$("#team").empty().prop("disabled",!0),$("#team").select2("destroy").select2()}else toastr.clear(),toastr.error(message.failed_load_challenge)})))}var n=[];$(document).ready((function(){var e,a,l,r,o,s,i,c,d,p,u,g;$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".select2").select2(),$(".challengeSummaryReport-export").show(),$(".challengeDetailsReport-export").hide(),$(".challengeUserWiseReport-export").hide(),$.urlParam=function(e){var a=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==a?null:decodeURI(a[1])||0};var m=$.urlParam("tab");if("summary"==m){$("#tab").val("summary");var h="challengeSummaryReport";$(".nav-link").removeClass("active"),$("#tab-summary").addClass("active"),$("#".concat(h," tbody")).html('<tr><td class="text-center no-data-table" colspan="5">'+message.select_challenge_view_report+"</td></tr>"),$("#challengeSummaryReport").parent().removeClass("hidden"),$("#challengeDetailsReport").parent().addClass("hidden"),$("#challengeUserWiseReport").parent().addClass("hidden"),$(".challengeSummaryReport-export").show(),$(".challengeDetailsReport-export").hide(),$(".challengeUserWiseReport-export").hide(),$("#userrecordsearch").val(""),$("#usersearch").addClass("hidden")}else if("detail"==m){$("#tab").val("detail");h="challengeDetailsReport";$(".nav-link").removeClass("active"),$("#tab-details").addClass("active"),$("#".concat(h," tbody")).html('<tr><td class="text-center no-data-table" colspan="10">'+message.select_challenge_view_report+"</td></tr>"),$("#challengeDetailsReport").parent().removeClass("hidden"),$("#challengeSummaryReport").parent().addClass("hidden"),$("#challengeUserWiseReport").parent().addClass("hidden"),$(".challengeSummaryReport-export").hide(),$(".challengeDetailsReport-export").show(),$(".challengeUserWiseReport-export").hide(),$("#usersearch").removeClass("hidden")}else if("userwise"==m){$("#tab").val("userwise");h="challengeUserWiseReport";$(".nav-link").removeClass("active"),$("#tab-userwise").addClass("active"),$("#".concat(h," tbody")).html('<tr><td class="text-center no-data-table" colspan="11">'+message.select_challenge_view_report+"</td></tr>"),$("#challengeUserWiseReport").parent().removeClass("hidden"),$("#challengeSummaryReport").parent().addClass("hidden"),$("#challengeDetailsReport").parent().addClass("hidden"),$(".challengeSummaryReport-export").hide(),$(".challengeDetailsReport-export").hide(),$(".challengeUserWiseReport-export").show(),$("#usersearch").removeClass("hidden")}if($(document).on("change","#challenge",(function(e){var a;""!=$("#challenge").val()&&(a=$("#challenge").val(),$.get(url.getChallengeParticipant,{challenge:a},(function(e,a,t){var l="";if(console.log(t.status),200==t.status&&e&&1==e.status){var r="";n=e.data.teamList,$.each(e.data.companyList,(function(e,a){r+='<option value="'.concat(e,'">').concat(a,"</option>"),l=e})),$("#company").html(r).val("").prop("disabled",!1),$("#company").select2("destroy").select2(),"inter_company"!=$("#challengeType").val()&&$("#company").val(l).trigger("change")}else toastr.clear(),toastr.error(message.failed_load_challenge)})))})),$(document).on("change","#company",(function(e){if(""!=$("#company").val()&&null!=$("#company").val()){var a="";$.each(n[$("#company").val()],(function(e,t){a+='<option value="'.concat(e,'">').concat(t,"</option>")})),$("#team").html(a).val("").prop("disabled",!1),$("#team").select2("destroy").select2()}})),$("#challengeSummaryReport").DataTable({processing:!0,serverSide:!0,ajax:{type:"POST",url:url.getChallengeSummaryData,data:{tab:$("#tab").val(),type:$("#myTab .nav-link.active").data("for"),challengeStatus:null!==(e=$("#challengeStatus").val())&&void 0!==e?e:null,challenge:null!==(a=$("#challenge").val())&&void 0!==a?a:null,company:$("#company").val(),team:null!==(l=$("#team").val())&&void 0!==l?l:null,userrecordsearch:null!==(r=$("#userrecordsearch").val())&&void 0!==r?r:null,getQueryString:window.location.search}},columns:[{data:"userName",name:"userName",visible:"individual"==$("#challengeType").val()},{data:"email",name:"email",visible:"individual"==$("#challengeType").val()},{data:"company",name:"company",visible:"inter_company"==$("#challengeType").val()},{data:"team",name:"team"},{data:"type",name:"type"},{data:"valueCount",name:"valueCount"},{data:"points",name:"points"}],paging:!0,pageLength:pagination.value,lengthChange:!0,lengthMenu:[[25,50,100,1e3,5e3],[25,50,100,1e3,5e3]],searching:!1,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],order:[],stateSave:!1,language:{paginate:{previous:pagination.previous,next:pagination.next},lengthMenu:"Entries per page _MENU_"},dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',drawCallback:function(e){0==this.api().rows().count()&&$(".challengeSummaryReport-export").hide()}}),$("#challengeUserWiseReport").DataTable({processing:!0,serverSide:!0,ajax:{type:"POST",url:url.getChallengeDailySummaryData,data:{tab:$("#tab").val(),type:$("#myTab .nav-link.active").data("for"),challengeStatus:null!==(o=$("#challengeStatus").val())&&void 0!==o?o:null,challenge:null!==(s=$("#challenge").val())&&void 0!==s?s:null,company:$("#company").val(),team:null!==(i=$("#team").val())&&void 0!==i?i:null,userrecordsearch:null!==(c=$("#userrecordsearch").val())&&void 0!==c?c:null,getQueryString:window.location.search}},columns:[{data:"userName",name:"userName"},{data:"email",name:"email"},{data:"company",name:"company"},{data:"team",name:"team"},{data:"tracker",name:"tracker"},{data:"trackerchange",name:"trackerchange",sortable:!1},{data:"type",name:"type"},{data:"userVal",name:"userVal"},{data:"points",name:"points"},{data:"log_date",name:"log_date"},{data:"actions",name:"actions",searchable:!1,sortable:!1,className:"no-sort"}],paging:!0,pageLength:pagination.value,lengthChange:!0,lengthMenu:[[25,50,100,1e3,5e3],[25,50,100,1e3,5e3]],searching:!1,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],order:[],stateSave:!1,language:{paginate:{previous:pagination.previous,next:pagination.next},lengthMenu:"Entries per page _MENU_"},dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',drawCallback:function(e){0==this.api().rows().count()&&$(".challengeDetailsReport-export").hide()}}),$("#challengeDetailsReport").DataTable({processing:!0,serverSide:!0,destroy:!0,ajax:{type:"POST",url:url.getChallengeDailySummaryData,data:{tab:$("#tab").val(),type:$("#myTab .nav-link.active").data("for"),challengeStatus:null!==(d=$("#challengeStatus").val())&&void 0!==d?d:null,challenge:null!==(p=$("#challenge").val())&&void 0!==p?p:null,company:$("#company").val(),team:null!==(u=$("#team").val())&&void 0!==u?u:null,userrecordsearch:null!==(g=$("#userrecordsearch").val())&&void 0!==g?g:null,getQueryString:window.location.search}},columns:[{data:"userName",name:"userName"},{data:"email",name:"email"},{data:"company",name:"company"},{data:"team",name:"team"},{data:"tracker",name:"tracker"},{data:"type",name:"type"},{data:"userVal",name:"userVal"},{data:"points",name:"points"},{data:"created_at",name:"created_at"},{data:"log_date",name:"log_date"}],paging:!0,pageLength:pagination.value,lengthChange:!0,lengthMenu:[[25,50,100,1e3,5e3],[25,50,100,1e3,5e3]],searching:!1,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],order:[],stateSave:!1,language:{paginate:{previous:pagination.previous,next:pagination.next},lengthMenu:"Entries per page _MENU_"},dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',drawCallback:function(e){0==this.api().rows().count()&&$(".challengeUserWiseReport-export").hide()}}),window.location.hash){var v=window.location.hash;$('.nav-tabs a[href="'+v+'"]').length>0&&$('.nav-tabs a[href="'+v+'"]').click()}$(document).on("change",".getChallengeList",(function(){t()})),$(".daterangesFromExportModel").datepicker({format:"yyyy-mm-dd",todayHighlight:!1,autoclose:!0,endDate:new Date,clearBtn:!0}),$(document).on("click","#challengeActivityReport",(function(e){$("#challengeActivityReportSearch").serialize();$("#queryString").val(JSON.stringify(function(){$(".daterangesFromExportModel").show();for(var e=document.location.href,a=e.substring(e.indexOf("?")+1).split("&"),t=0,n={};t<a.length;t++)a[t]=a[t].split("="),null!=a[t][1]&&$(".daterangesFromExportModel").hide(),n[a[t][0]]=decodeURIComponent(a[t][1]);return n}()));$(this).attr("data-start"),$(this).attr("data-end");var a=$(this).attr("data-tab");$("#email").val(loginemail).removeClass("error"),$("#tab").val(a),$(".error").remove(),$("#model-title").html($(this).data("title")),$("#exportNpsReport").attr("action",url.challengeActivityReportExportUrl),$(".loadingMsg").remove(),$("#export-model-box-confirm").prop("disabled",!1),$("#exportNpsReportMsg").hide(),$("#exportNps").show(),$("#export-model-box").attr("data-id",$(this).data("id")),$("#export-model-box").modal("show")})),$("#exportNpsReport").validate({errorClass:"error text-danger",errorElement:"span",highlight:function(e,a,t){$("span#email-error").addClass(a).removeClass(t)},unhighlight:function(e,a,t){$("span#email-error").removeClass(a).addClass(t)},rules:{email:{email:!0,required:!0}}}),$("#exportNpsReport").ajaxForm({beforeSend:function(){$(".page-loader-wrapper").fadeIn(),$("#exportNpsReport .card-footer button, #exportIntercompanychallenge .card-footer a").attr("disabled","disabled")},success:function(e){$("#exportNpsReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled"),$("#export-model-box").modal("hide"),1==e.status?toastr.success(e.data):toastr.error(e.data)},error:function(e){$("#exportNpsReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled"),e.responseJSON&&e.responseJSON.message&&""!=e.responseJSON.message?toastr.error(e.responseJSON.message):toastr.error(message.somethingWentWrong)},complete:function(e){$(".page-loader-wrapper").fadeOut(),$("#exportNpsReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled")}})}))}});