!function(e){var a={};function t(r){if(a[r])return a[r].exports;var o=a[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)t.d(r,o,function(a){return e[a]}.bind(null,o));return r},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="/",t(t.s=99)}({99:function(e,a,t){e.exports=t("Af7z")},Af7z:function(e,a){function t(){$("#detailedReportManagement").DataTable({processing:!0,serverSide:!0,destroy:!0,ajax:{type:"POST",url:url.detailedReport,data:{name:$("#dtName").val(),company:$("#dtCompany").val(),presenter:$("#dtPresenter").val(),fromdate:$("#dtFromdate").val(),todate:$("#dtTodate").val(),status:$("#dtStatus").val(),complementary:$("#dtComplementary").val(),category:$("#dtCategory").val(),getQueryString:window.location.search}},columns:[{data:"event_name",name:"event_name"},{data:"presenter",name:"presenter"},{data:"subcategory_name",name:"subcategory_name"},{data:"date_time",name:"date_time",render:function(e,a,t){return moment.utc(e).tz(timezone).format("MMM DD, YYYY")+"<br />"+moment.utc(e).tz(timezone).format("hh:mm A")+" - "+moment.utc(t.end_time).tz(timezone).format("hh:mm A")}},{data:"created_by",name:"created_by",visible:"zsa"!=data.roleType},{data:"company_name",name:"company_name"},{data:"location_type",name:"location_type"},{data:"fees",name:"fees",render:function(e,a,t){return"€ "+$.fn.dataTable.render.number(",").display(e)},visible:"rca"!=data.roleType},{data:"is_complementary",name:"is_complementary",visible:"rca"!=data.roleType},{data:"status",name:"status"},{data:"actions",name:"actions",searchable:!1,sortable:!1},{data:"cancelled_by_name",name:"cancelled_by_name",visible:!1},{data:"cancelled_on",name:"cancelled_on",visible:!1},{data:"cancel_reason",name:"cancel_reason",visible:!1}],paging:!0,pageLength:parseInt(pagination.value),lengthChange:!0,lengthMenu:[[25,50,100],[25,50,100]],searching:!1,ordering:!0,order:[],info:!0,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],language:{paginate:{previous:pagination.previous,next:pagination.next},lengthMenu:pagination.entry_per_page+" _MENU_"},dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',buttons:[],drawCallback:function(e){$("#detailed-tab-result-block").show(),$("#detailed-tab-process-block").hide(),0==this.api().rows().count()?$("#detailed-tab-result-block .exportBookingDetailReport").hide():$("#detailed-tab-result-block .exportBookingDetailReport").show()}})}function r(){$("#summaryReportManagement").DataTable({processing:!0,serverSide:!0,destroy:!0,ajax:{type:"POST",url:url.summaryReport,data:{company:$("#stCompany").val(),status:$("#stStatus").val(),getQueryString:window.location.search}},columns:[{data:"company_name",name:"company_name"},{data:"total_events",name:"total_events"},{data:"booked_events",name:"booked_events"},{data:"cancelled_events",name:"cancelled_events"},{data:"billable",name:"billable",render:function(e,a,t){return"€ "+$.fn.dataTable.render.number(",").display(e)}},{data:"status",name:"status"},{data:"actions",name:"actions",searchable:!1,sortable:!1}],paging:!0,pageLength:parseInt(pagination.value),lengthChange:!0,lengthMenu:[[25,50,100],[25,50,100]],searching:!1,ordering:!0,order:[[0,"asc"]],info:!0,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}],language:{paginate:{previous:pagination.previous,next:pagination.next},lengthMenu:pagination.entry_per_page+" _MENU_"},dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',buttons:[],drawCallback:function(e){$("#summary-tab-result-block").show(),$("#summary-tab-process-block").hide(),0==this.api().rows().count()?$("#summary-tab-result-block .exportBookingSummaryReport").hide():$("#summary-tab-result-block .exportBookingSummaryReport").show()}})}function o(e){"#summary-view-tab"==e?($("[data-control-for='service-tab']").hide(),$("[data-control-for='bookings-tab']").show()):($("[data-control-for='service-tab']").show(),$("[data-control-for='bookings-tab']").hide())}$(document).ready((function(){if($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),"rca"!=data.roleType||"zca"!=data.roleType){if(window.location.hash){var e=window.location.hash;e=$('.nav-tabs a[href="'+e+'"]').length>0?e:"#detailed-tab";$('.nav-tabs a[href="'+e+'"]').tab("show"),"#summary-view-tab"==e?(o(e),r()):(o("#detailed-tab"),t())}else o("#detailed-tab"),t();$(document).on("show.bs.tab","#reportTab.nav-tabs a",(function(e){var a=$(e.target).attr("href");if(a){var n=$(window).scrollTop();window.location.hash=a,$(window).scrollTop(n),"#summary-view-tab"==a?(o(a),r()):(o("#detailed-tab"),t())}}))}else o("#detailed-tab"),t();$(document).on("click",".resetSearchBtn",(function(e){var a=$("ul#reportTab li a.active").attr("href")||"#detailed-tab";$("#isFiltered").val(0),$("#queryString").val(""),"#summary-view-tab"==a?($("#stCompany, #stStatus").val("").trigger("change"),$("#summary-tab-result-block").hide(),$("#summary-tab-process-block").show(),r()):($("#dtName, #dtCompany, #dtPresenter, #dtFromdate, #dtTodate, #dtStatus, #dtComplementary, #dtCategory").val("").trigger("change"),$("#detailed-tab-result-block").hide(),$("#detailed-tab-process-block").show(),t())})),$(document).on("submit","#detailedTabSearch, #summaryTabSearch",(function(e){e.preventDefault();var a=$("ul#reportTab li a.active").attr("href")||"#detailed-tab";$("#isFiltered").val(1),"#summary-view-tab"==a?($("#summary-tab-result-block").hide(),$("#summary-tab-process-block").show(),o(a),r()):($("#detailed-tab-result-block").hide(),$("#detailed-tab-process-block").show(),o("#detailed-tab"),t())})),$(document).on("click",".view-cancel-event-details",(function(e){$(".page-loader-wrapper").fadeIn();var a=$(this).data("bid");$.ajax({type:"POST",url:url.cancelEventDetails.replace(":bid",a),dataType:"json"}).done((function(e){(null==e?void 0:e.status)?($("#cancelled_by").html(null==e?void 0:e.cancelled_by),$("#cancelled_at").html(null==e?void 0:e.cancelled_at),$("#cancelation_reason").html(null==e?void 0:e.cancelation_reason),$("#cancel-event-details-model-box").modal("show")):toastr.error(e.message||message.failed_to_load)})).fail((function(e){var a;toastr.error((null==e||null===(a=e.responseJSON)||void 0===a?void 0:a.message)||message.failed_to_load)})).always((function(){$(".page-loader-wrapper").fadeOut()}))})),$(".dateranges").datepicker({format:"mm/dd/yyyy",todayHighlight:!1,autoclose:!0}),$(".daterangesFromExportModel").datepicker({format:"yyyy-mm-dd",todayHighlight:!1,autoclose:!0,endDate:new Date,clearBtn:!0}),$(document).on("click","#exportBookingReport",(function(e){$(this).attr("data-start"),$(this).attr("data-end");var a=$(this).attr("data-tab");if("booking-details"==a)var t=$("#detailedTabSearch").serialize();else t=$("#summaryTabSearch").serialize();"1"==$("#isFiltered").val()?$("#queryString").val(JSON.stringify(function(e){$(".daterangesFromExportModel").show();var a=e.substring(1).split("&").map((function(e){var a=e.split("=");return""!=a[1]&&$(".daterangesFromExportModel").hide(),a}));return Object.fromEntries(a)}("?"+t))):($("#queryString").val(""),$(".daterangesFromExportModel").show()),$("#email").val(loginemail).removeClass("error"),$("#tab").val(a),$(".error").remove(),$("#model-title").html($(this).data("title")),$("#exportNpsReport").attr("action",url.bookingReportExportUrl),$(".loadingMsg").remove(),$("#export-model-box-confirm").prop("disabled",!1),$("#exportNpsReportMsg").hide(),$("#exportNps").show(),$("#export-model-box").attr("data-id",$(this).data("id")),$("#export-model-box").modal("show")})),$("#exportNpsReport").validate({errorClass:"error text-danger",errorElement:"span",highlight:function(e,a,t){$("span#email-error").addClass(a).removeClass(t)},unhighlight:function(e,a,t){$("span#email-error").removeClass(a).addClass(t)},rules:{email:{email:!0,required:!0}}}),$("#exportNpsReport").ajaxForm({beforeSend:function(){$(".page-loader-wrapper").fadeIn(),$("#exportNpsReport .card-footer button, #exportIntercompanychallenge .card-footer a").attr("disabled","disabled")},success:function(e){$("#exportNpsReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled"),$("#export-model-box").modal("hide"),1==e.status?toastr.success(e.data):toastr.error(e.data)},error:function(e){$("#exportNpsReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled"),e.responseJSON&&e.responseJSON.message&&""!=e.responseJSON.message?toastr.error(e.responseJSON.message):toastr.error(message.somethingWentWrong)},complete:function(e){$(".page-loader-wrapper").fadeOut(),$("#exportNpsReport .card-footer button, #exportIntercompanychallenge .card-footer a").removeAttr("disabled")}})}))}});