!function(e){var t={};function a(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(i,o,function(t){return e[t]}.bind(null,o));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=159)}({"0QDk":function(e,t){function a(e,t){$(e).timepicker({showDuration:!0,timeFormat:"h:i A",step:30,useSelect:!0})}$(document).ready((function(){var e={offset:!1,overlay:!0,width:"330px"},t=$(".bs-offset-main"),o=$(".bs-canvas-overlay");SPECIFICDATE=new Date,$(document).on("click",'[data-toggle="canvas"][aria-expanded="false"]',(function(){var a=$(this).data("target"),i=$.extend({},e,$(a).data()),n=$(a).hasClass("bs-canvas-right")?"margin-right":"margin-left";return"100%"===i.width&&(i.offset=!1),$(a).css("width",i.width),i.offset&&t.length&&t.css(n,i.width),$(a+" .bs-canvas-close").attr("aria-expanded","true"),$('[data-toggle="canvas"][data-target="'+a+'"]').attr("aria-expanded","true"),i.overlay&&o.length&&o.addClass("show"),!1})),$(".bs-canvas-close, .bs-canvas-overlay").on("click",(function(){var e,a;return $(this).hasClass("bs-canvas-close")?(e=$(this).closest(".bs-canvas"),a=$(this).add($('[data-toggle="canvas"][data-target="#'+e.attr("id")+'"]')),t.length&&t.css($(e).hasClass("bs-canvas-right")?"margin-right":"margin-left","")):(e=$(".bs-canvas"),a=$('.bs-canvas-close, [data-toggle="canvas"]'),t.length&&t.css({"margin-left":"","margin-right":""})),e.css("width",""),a.attr("aria-expanded","false"),o.length&&o.removeClass("show"),!1})),$(".bs-calendar-slidebar").click((function(){var e=$(this).attr("id");$("#calendar_offcanvas").attr("location-id",$("#location-specific-ws-slot").attr("data-id")),$("#calendar_offcanvas").attr("ws-id",e),$("input[name=wsId]").val(e),$("#calendar_offcanvas").find(".js-events").find(".list-group-item:first").html(" "),$("#calendar_offcanvas").find(".js-today").trigger("click"),$("#calendar_offcanvas").bsCalendar("refresh")})),$(document).on("click",".bs-calendar-slidebar",(function(){var e=$(this).attr("id");$("#calendar_offcanvas").attr("location-id",$("#location-specific-ws-slot").attr("data-id")),$("#calendar_offcanvas").attr("ws-id",e),$("input[name=wsId]").val(e),$("#calendar_offcanvas").find(".js-events").find(".list-group-item:first").html(" "),$("#calendar_offcanvas").find(".js-today").trigger("click"),$("#calendar_offcanvas").bsCalendar("refresh")})),$(document).on("click",".add-specific-ws-hours",(function(){$(this).parents(".js-collapse").find(".add-spefic-new-slot-block").remove();var e=$("#add-specific-new-slot-template").text().trim();$(this).parents(".js-collapse").find(".new-specific-time-slots").append(e);var t=$(this).parents(".js-collapse").find(".slot-control-block");a(t.find(".time"))})),$(document).on("click",".save-specific-new-slot",(function(e){var t=$(this).parents(".add-spefic-new-slot-block").find(".slot-control-block");$(".toast").remove();var a=$("#specific-preview-slot-template").text().trim(),o=($("#preview-ws-hidden-template").text().trim(),$(this).parents(".set-availability-box").data("dayKey"),$(this).parents(".slot-action-block"),$(this).parents(".js-collapse").find(".js-events").find(".list-group-item:first")),n=t.find(".time"),s=moment($(n[0]).timepicker("getTime")),r=moment($(n[1]).timepicker("getTime")),c=!0,l=$(this).parents(".js-collapse").find(".specific-preview-slot-block input").serializeArray();if(s>=r)return c=!1,toastr.error("Please select appropriate time slots"),!1;if(l.length>0){var d=l.map((function(e){return moment(new Date("".concat(today.getFullYear(),"-").concat(today.getMonth()+1,"-").concat(today.getDate()," ").concat(e.value)))}));for(i=0;i<d.length;i++)if(i%2==0&&(d[i].isBetween(s,r,void 0,"[)")||d[i+1].isBetween(s,r,void 0,"(]")||s.isBetween(d[i],d[i+1],void 0,"[)")||r.isBetween(d[i],d[i+1],void 0,"(]"))){c=!1,toastr.error("Selected duration is occupied.");break}}if(c){var m,f=$("#set_hours_by").val(),p=$("#set_availability_by").val(),v=$("input[name=wsId]").val(),u=moment(SPECIFICDATE).format("YYYY-MM-DD"),h=Date.parse(u),g="id".concat(Date.now()),w=(a=$("#specific-preview-slot-template").text().trim(),$("#location-specific-ws-slot").attr("data-id"));if(a=a.replace(/\#key#/g,v).replace(/\#start_time#/g,s.format("HH:mm")).replace(/\#end_time#/g,r.format("HH:mm")).replace(/\#date_stamp#/g,h).replace("#time#","".concat(s.format("hh:mm A")," - ").concat(r.format("hh:mm A"))).replace(/\#id#/g,g),o.append(a),2==f&&2==p)m=(m=$("#location-specific-preview-slot-input-template").text().trim()).replace(/\#key#/g,v).replace(/\#location_id#/g,w).replace(/\#start_time#/g,s.format("HH:mm")).replace(/\#end_time#/g,r.format("HH:mm")).replace(/\#date_stamp#/g,h).replace(/\#date_input#/g,u).replace(/\#id#/g,g);else m=(m=$("#specific-preview-slot-input-template").text().trim()).replace(/\#key#/g,v).replace(/\#start_time#/g,s.format("HH:mm")).replace(/\#end_time#/g,r.format("HH:mm")).replace(/\#date_stamp#/g,h).replace(/\#date_input#/g,u).replace(/\#id#/g,g);$("#calendar_offcanvas").parent().find(".hiddenfields").append(m),$(this).parents(".add-spefic-new-slot-block").remove(),$.fn.bsCalendar()}})),$(document).on("click",".specific-remove-slot",(function(e){$("#location-specific-ws-slot").css({"z-index":"1040"}),$("#remove-specific-slot-model-box").attr("selector",$(this).data("id")).modal("show"),$("#remove-specific-slot-model-box").css({"z-index":"1060"})})),$(document).on("hidden.bs.modal","#remove-specific-slot-model-box",(function(e){$("#remove-specific-slot-model-box").data("selector",void 0),$("#location-specific-ws-slot").css({"z-index":"1055"})})),$("#remove-specific-slot-confirm").on("click",(function(e){var t=$(this).parents("#remove-specific-slot-model-box").attr("selector");t&&($(".specific_"+t).remove(),$(".hiddenfields").find("#"+t).remove(),$("#remove-specific-slot-model-box").modal("hide"))})),$(document).on("click",".close-specific-add-new-slot",(function(){$(this).parents(".add-spefic-new-slot-block").remove()})),$(document).on("click",".edit-specific-slot",(function(){var e=$(this).parents(".specific-preview-slot-block"),t=e.parents(".js-events"),i=(t.find(".add-new-slot-block"),t.find(".edit-slot-block"),e.find(".start-time-data").val()||0),o=e.find(".end-time-data").val()||0,n=($(this).parents(".specific-preview-slot-block").data("id"),e.data("id")),s=$("#specific-edit-slot-template").text().trim();s=s.replace("#id#",n).replace("#start_time#",i).replace("#end_time#",o),$(s).insertAfter(e),e.addClass("d-none");var r=$(this).parents(".js-collapse").find(".slot-control-block"),c=r.find(".time");a(c),$(c[0]).timepicker("setTime",i),$(c[1]).timepicker("setTime",o)})),$(document).on("click",".save-specific-edit-slot",(function(e){var t=$(this).parents(".specific-edit-slot-block");$(this).parents(".slots-wrapper"),$(this).parents(".set-availability-box").data("dayKey"),t.find(".slot-control-block");$(".toast").remove();var a=t.prev(),o=t.find(".time"),n=moment($(o[0]).timepicker("getTime")),s=moment($(o[1]).timepicker("getTime")),r=!0,c=$(this).parents(".js-collapse").find(".specific-preview-slot-block").not(a).find("input[type=hidden]").serializeArray();$(this).parents(".specific-edit-slot-block").data("id");if(n>=s)return addNewSlot=!1,toastr.error("Please select appropriate time slots"),!1;if(c.length>0){var l=c.map((function(e){return moment(new Date("".concat(today.getFullYear(),"-").concat(today.getMonth()+1,"-").concat(today.getDate()," ").concat(e.value)))}));for(i=0;i<l.length;i++)if(i%2==0&&(l[i].isBetween(n,s,void 0,"[)")||l[i+1].isBetween(n,s,void 0,"(]")||n.isBetween(l[i],l[i+1],void 0,"[)")||s.isBetween(l[i],l[i+1],void 0,"(]"))){r=!1,toastr.error("Selected duration is occupied.");break}}if(r){$("input[name=wsId]").val();var d=moment(SPECIFICDATE).format("YYYY-MM-DD"),m=(Date.parse(d),t.data("id"));$("#"+m).val(n.format("HH:mm")+"-"+s.format("HH:mm")),a.removeClass("d-none"),a.find("p:first").html("".concat(n.format("hh:mm A")," - ").concat(s.format("hh:mm A"))),a.find(".start-time-data").val(n.format("HH:mm")),a.find(".end-time-data").val(s.format("HH:mm")),t.remove()}})),$(document).on("click",".cancel-specific-edit-slot",(function(){var e=$(this).parents(".specific-edit-slot-block");e.prev().removeClass("d-none"),e.remove()})),$(document).on("click",".slot-calendar",(function(){$("#companyspecificview #ws_name").hide();var e=$(this).attr("id"),t=$(this).parents("tr").find("td:first").text(),a=$('input[name="_token"]').val(),i=$("#set_hours_by").val(),o=$("#set_availability_by").val(),n=$(this).attr("data-locationid");$.ajax({url:getSpecificSlots,method:"POST",data:{_token:a,company_id:companyId,ws_id:e,location_id:2==i&&2==o?n:null},success:function(a){a.status?(2==i&&2==o&&$("#companyspecificview #ws_name").show(),$("#company-specific-slots-view").find("#modal_title").html(t+"'s Availabilities"),$("#companyspecificview").dataTable().fnDestroy(),$("#companyspecificview").find("tbody").html(a.data),$("#companyspecificview").DataTable({lengthChange:!1,pageLength:10,autoWidth:!1,columns:[{data:"date",name:"date"},{data:"wellbeing_specialist",name:"wellbeing_specialist",visible:2==i&&2==o},{data:"time",name:"time"}],order:[[0,"asc"]],paging:!0,searching:!0,ordering:!0,info:!0,columnDefs:[{targets:"no-sort",orderable:!1}],dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',language:{paginate:{previous:pagination.previous,next:pagination.next},sInfo:"Entries _START_ to _END_",infoFiltered:""}}),$("#company-specific-slots-view").attr("selector",e).modal("show")):toastr.error(a.data)}})})),$("#calendar_offcanvas").bsCalendar({locale:"en",url:null,width:"330px",icons:{prev:"fas fa-arrow-left fa-fw",next:"fas fa-arrow-right fa-fw",eventEdit:"fas fa-edit fa-fw",eventRemove:"fas fa-trash fa-fw"},showEventEditButton:!1,showEventRemoveButton:!1,formatEvent:function(e){return drawEvent(e)},formatNoEvent:function(e){var t=$("input[name=wsId]").val(),a=moment(SPECIFICDATE).format("YYYY-MM-DD"),i=Date.parse(a),o="",n=$("#set_hours_by").val(),s=$("#set_availability_by").val();if(2==n&&2==s){var r=$("#location-specific-ws-slot").attr("data-id");if($(".location_slots_"+r+"_"+t+"_"+i).length>0)return $(".location_slots_"+r+"_"+t+"_"+i).each((function(e,n){var s=$("#specific-preview-slot-template").text().trim(),r=(n=$(this).val().split("-"),$(this).attr("id")),c=Date.parse(a+" "+n[0]),l=Date.parse(a+" "+n[1]),d="block";Date.parse(moment(SPECIFICDATE).format("YYYY-MM-DD"))<Date.parse(moment(Date()).format("YYYY-MM-DD"))&&(d="none"),o+=s.replace(/\#key#/g,t).replace(/\#start_time#/g,moment(c).format("HH:mm")).replace(/\#end_time#/g,moment(l).format("HH:mm")).replace("#time#","".concat(moment(c).format("hh:mm A")," - ").concat(moment(l).format("hh:mm A"))).replace(/\#date_stamp#/g,i).replace(/\#id#/g,r).replace(/\#previous_slot_block#/g,d)})),o}else if($(".slots_"+t+"_"+i).length>0)return $(".slots_"+t+"_"+i).each((function(e,n){var s=$("#specific-preview-slot-template").text().trim(),r=(n=$(this).val().split("-"),$(this).attr("id")),c=Date.parse(a+" "+n[0]),l=Date.parse(a+" "+n[1]),d="block";Date.parse(moment(SPECIFICDATE).format("YYYY-MM-DD"))<Date.parse(moment(Date()).format("YYYY-MM-DD"))&&(d="none"),o+=s.replace(/\#key#/g,t).replace(/\#start_time#/g,moment(c).format("HH:mm")).replace(/\#end_time#/g,moment(l).format("HH:mm")).replace("#time#","".concat(moment(c).format("hh:mm A")," - ").concat(moment(l).format("hh:mm A"))).replace(/\#date_stamp#/g,i).replace(/\#id#/g,r).replace(/\#previous_slot_block#/g,d)})),o},queryParams:function(e){return e},onClickEditEvent:function(e,t){},onClickDeleteEvent:function(e,t){}})}))},159:function(e,t,a){e.exports=a("0QDk")}});