!function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=149)}({149:function(e,t,a){e.exports=a("Uwiq")},Uwiq:function(e,t){var a=$("#mainProgrssbar"),r=$("#mainProgrssbar .progpercent");$(document).ready((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).on("click","#update_notes_btn",(function(e){var t=document.querySelector(".ck-editor__editable");editorInstance=t.ckeditorInstance,notes=editorInstance.getData(),notes=$(notes).text().trim(),notes.length>2500?(e.preventDefault(),$("#notes-error").html(messages.notes_length).addClass("is-invalid").show()):$("#notes-error").removeClass("is-invalid").hide()})),$(document).on("click","#cancelSessionModel",(function(e){var t=$(this).data("id");$("#cancelSessionForm").attr("action",url.cancelSession.replace(":bid",t)),$("#cancel-session-model-box").data("bid",t).modal("show")})),$(document).on("hidden.bs.modal","#cancel-session-model-box",(function(e){$("#cancelled_reason").val("").removeClass("is-invalid is-valid"),$("#cancelled_reason-error").remove(),$("#cancelSessionForm").attr("action","")})),$(document).on("click","#session-cancel-model-box-confirm",(function(e){$("#cancelled_reason-error").remove();var t,a=[];if(""==$("#cancelled_reason").val()?($("textarea#cancelled_reason").after('<div id="cancelled_reason-error" class="error text-danger">'+messages.cancel_reason_required+"</div>"),a.push("name")):(t="name",a.filter((function(e){return e!==t}))),a.length<=0){toastr.clear();var r=$("#cancel-session-model-box").data("bid");$(".page-loader-wrapper").show(),$.ajax({type:"POST",url:url.cancelSession.replace(":bid",r),data:{cancelled_reason:$("#cancelled_reason").val()},success:function(e){$("#cancel-session-model-box").modal("hide"),$(".page-loader-wrapper").hide(),1==e.status?toastr.success(messages.cancelled_success):toastr.error(messages.cancelled_error),setTimeout((function(){window.location.reload()}),1e3)}})}})),$("#sessionAttachments").DataTable({processing:!0,serverSide:!0,ajax:{type:"GET",url:url.getAttachmentsDatatableUrl,data:{getQueryString:window.location.search,from:window.location.pathname}},columns:[{data:"file_name",name:"file_name",sortable:!1,className:"no-sort"},{data:"created_at",name:"created_at"},{data:"actions",name:"actions",className:"no-sort",searchable:!1,sortable:!1}],drawCallback:function(e){this.api().rows().count()>=3?$(".upload-attachments").hide():$(".upload-attachments").show()},dom:'<<"pagination-top"lB><t><"pagination-wrap"<"pagination-left"i>p>',paging:!1,lengthChange:!1,searching:!1,ordering:!0,order:[],info:!1,autoWidth:!1,columnDefs:[{targets:"no-sort",orderable:!1}]}),$(document).on("change","#attachments",(function(e){if(e.target.files.length>0){var t=e.target.files[0].name;["image/png","image/jpeg","image/jpg","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(e.target.files[0].type)?e.target.files[0].size>5242880?(toastr.error(messages.image_size_5M_error),$("#bulk-upload-confirm").attr("disabled",!0),$(e.currentTarget).empty().val(""),!1,$(this).parent("div").find(".custom-file-label").val("")):($("#bulk-upload-confirm").attr("disabled",!1),$(this).parent("div").find(".custom-file-label").html(t)):(toastr.error(messages.image_valid_error),$(e.currentTarget).empty().val(""),$("#bulk-upload-confirm").attr("disabled",!0),!1)}})),$("#bulkUploadAttachmentFrm").ajaxForm({beforeSend:function(){$(".progress-loader-wrapper .status-text").html("Uploading images...."),$(".progress-loader-wrapper").show();a.width("0%"),r.html("0%")},uploadProgress:function(e,t,o,n){var s=n+"%";a.width(s),r.html(s),100==n&&$(".progress-loader-wrapper .status-text").html("Processing on images...")},success:function(e){$(".progress-loader-wrapper").hide();a.width("100%"),r.html("100%"),e.status&&1==e.status?window.location.reload():e.message&&""!=e.message&&toastr.error(e.message)},error:function(e){$(".progress-loader-wrapper").hide(),e.responseJSON&&e.responseJSON.message&&""!=e.responseJSON.message?toastr.error(e.responseJSON.message||message.somethingWentWrong):toastr.error(message.somethingWentWrong);a.width("0%"),r.html("0%")},complete:function(e){$(".progress-loader-wrapper").hide()}}),$(document).on("click",".attachment-delete",(function(e){$("#delete-model-box").attr("data-id",$(this).data("id")),$("#delete-model-box").modal("show")})),$(document).on("click","#delete-model-box-confirm",(function(e){$(".page-loader-wrapper").show();var t=$("#delete-model-box").data("id");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"DELETE",url:url.deleteAttachment+"/"+t,data:null,crossDomain:!0,cache:!1,contentType:"json",success:function(e){"true"==e.deleted?(toastr.success(messages.deleted),$("#sessionAttachments").DataTable().ajax.reload(null,!1)):toastr.error(messages.somethingWentWrong),$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()},error:function(e){"Forbidden"==e&&toastr.error(messages.somethingWentWrong),$("#delete-model-box").modal("hide"),$(".page-loader-wrapper").hide()}})}))}))}});